!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.credoappsdk=t():n.credoappsdk=t()}(window,function(){return r=[function(n,t,r){"use strict";var i;r.d(t,"a",function(){return i}),(t=i=i||{}).keyboard="keyboard",t.pointer="pointer",t.input="input",t.behavioral="behavioral"},function(n,t,r){"use strict";r.r(t),r.d(t,"CredoAppException",function(){return o});var i,e,t=(i=function(n,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])})(n,t)},function(n,t){function r(){this.constructor=n}i(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(e=Error,t(u,e),u.prototype.getMessage=function(){return this.message},u.prototype.getCode=function(){return this._code},u);function u(n,t){var r=this.constructor,n=e.call(this,n||"")||this;return n._code=t,Object.setPrototypeOf(n,r.prototype),n}},function(n,t,r){"use strict";var i;r.d(t,"a",function(){return i}),(t=i=i||{})[t.TrackingNotStarted=30]="TrackingNotStarted",t[t.ValueInvalid=40]="ValueInvalid",t[t.StateInvalid=41]="StateInvalid",t[t.ActionForbidden=42]="ActionForbidden",t[t.ServerError=50]="ServerError",t[t.UnknownError=90]="UnknownError"},function(n,t,r){"use strict";function i(){}r.d(t,"a",function(){return u});var e,o,u=((e=function(n,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])})(n,t)},function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})(c,o=i),c);function c(){return null!==o&&o.apply(this,arguments)||this}},function(n,t,r){"use strict";r.d(t,"a",function(){return o});var i,e,t=r(3),r=(i=function(n,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])})(n,t)},function(n,t){function r(){this.constructor=n}i(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(e=t.a,r(u,e),u);function u(){return null!==e&&e.apply(this,arguments)||this}},function(n,t,r){"use strict";r.d(t,"a",function(){return o});var i,e,t=r(3),r=(i=function(n,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])})(n,t)},function(n,t){function r(){this.constructor=n}i(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(e=t.a,r(u,e),u);function u(){return null!==e&&e.apply(this,arguments)||this}},function(n,t,r){"use strict";r.d(t,"a",function(){return o});var i,e,t=r(3),r=(i=function(n,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])})(n,t)},function(n,t){function r(){this.constructor=n}i(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(e=t.a,r(u,e),u);function u(){return null!==e&&e.apply(this,arguments)||this}},function(n,t,r){"use strict";r.d(t,"a",function(){return o});var i,e,t=r(8),r=(i=function(n,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])})(n,t)},function(n,t){function r(){this.constructor=n}i(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(e=t.a,r(u,e),Object.defineProperty(u.prototype,"Mapping",{get:function(){return null==this.e&&(this.e=this.u()),this.e},enumerable:!0,configurable:!0}),u.prototype.f=function(){this.h=[];for(var n=0,t=this.v;n<t.length;n++){var r=t[n];this.h.push(this.Mapping[r])}},u.prototype.w=function(){return this.v},u.prototype.y=function(){for(var t=[],n=0,r=this.h;n<r.length;n++){var i=r[n];try{t.push(i())}catch(n){t.push("EXTRACTING ERROR : "+n.toString())}}return t},u);function u(n){var t=e.call(this)||this;if(null==n){var r,i=[];for(r in t.Mapping)i.push(r);t.v=i}else t.v=n;return t.f(),t}},function(n,t,r){"use strict";r.d(t,"a",function(){return i});var i=(e.prototype.extract=function(){return{Area:this.Area,Description:this.w(),Data:this.y()}},e);function e(){}},function(n,t,r){"use strict";r.d(t,"a",function(){return s});var i,e,t=r(8),o=r(4),u=r(5),c=r(0),f=r(6),r=(i=function(n,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])})(n,t)},function(n,t){function r(){this.constructor=n}i(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(e=t.a,r(a,e),Object.defineProperty(a.prototype,"Area",{get:function(){return a.Area},enumerable:!0,configurable:!0}),a.prototype.b=function(n){for(var t=[],r=0,i=n[c.a.behavioral];r<i.length;r++){var e=i[r];t.push(this.BehavioralEvetPropertyExtractorsMapping[e])}return t},a.prototype.g=function(n){for(var t=[],r=0,i=n[c.a.keyboard];r<i.length;r++){var e=i[r];t.push(this.KeyboardEvetPropertyExtractorsMapping[e])}return t},a.prototype._=function(n){for(var t=[],r=0,i=n[c.a.pointer];r<i.length;r++){var e=i[r];t.push(this.PointerEvetPropertyExtractorsMapping[e])}return t},a.prototype.A=function(n){for(var t=[],r=0,i=n[c.a.input];r<i.length;r++){var e=i[r];t.push(this.InputEvetPropertyExtractorsMapping[e])}return t},a.prototype.O=function(n){if(null!=n)return n;var n={},t=[];for(e in this.BehavioralEvetPropertyExtractorsMapping)t.push(parseInt(e));var r=[];for(e in this.KeyboardEvetPropertyExtractorsMapping)r.push(parseInt(e));var i=[];for(e in this.PointerEvetPropertyExtractorsMapping)i.push(parseInt(e));var e,o=[];for(e in this.InputEvetPropertyExtractorsMapping)o.push(parseInt(e));return(n={})[c.a.behavioral]=t,n[c.a.keyboard]=r,n[c.a.pointer]=i,n[c.a.input]=o,n},a.prototype.w=function(){return this.v},a.prototype.y=function(){for(var n=[],t=0,r=this.j.getAll();t<r.length;t++){var i=r[t],i=this.S(i);n.push(i)}return n},a.prototype.S=function(n){return n instanceof o.a?this.extractEventProperties(n,this.T):n instanceof u.a?this.extractEventProperties(n,this.x):n instanceof f.a?this.extractEventProperties(n,this.k):this.extractEventProperties(n,this.R)},a.prototype.extractEventProperties=function(n,t){for(var r=[],i=0,e=t;i<e.length;i++){var o=e[i];try{r.push(o(n))}catch(n){r.push(n.toString())}}return r},Object.defineProperty(a.prototype,"BehavioralEvetPropertyExtractorsMapping",{get:function(){var n={0:function(n){return n.elementId},3:function(n){return n.eventType},4:function(n){return n.date},5:function(n){return n.D}};return n},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"KeyboardEvetPropertyExtractorsMapping",{get:function(){var n={0:function(n){return n.elementId},3:function(n){return n.eventType},4:function(n){return n.date},5:function(n){return n.D},6:function(n){return n.altKey},7:function(n){return n.ctrlKey},8:function(n){return n.isComposing},9:function(n){return n.isTrusted},10:function(n){return n.metaKey},11:function(n){return n.repeat},12:function(n){return n.shiftKey},13:function(n){return n.keyCode}};return n},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"PointerEvetPropertyExtractorsMapping",{get:function(){var n={0:function(n){return n.elementId},3:function(n){return n.eventType},4:function(n){return n.date},5:function(n){return n.D},14:function(n){return n.pointerId},15:function(n){return n.pageX},16:function(n){return n.pageY},17:function(n){return n.pointerType},18:function(n){return n.isPrimary}};return n},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"InputEvetPropertyExtractorsMapping",{get:function(){var n={0:function(n){return n.elementId},3:function(n){return n.eventType},4:function(n){return n.date},5:function(n){return n.D},19:function(n){return n.inputType},20:function(n){return n.dataType}};return n},enumerable:!0,configurable:!0}),a.Area="BehavioralData",a);function a(n,t){var r=e.call(this)||this;return r.j=n,r.v=r.O(t),r.R=r.b(r.v),r.T=r.g(r.v),r.x=r._(r.v),r.k=r.A(r.v),r}},function(n,t,r){"use strict";r.d(t,"a",function(){return e});var i,u,t=r(8),r=(i=function(n,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])})(n,t)},function(n,t){function r(){this.constructor=n}i(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(u=t.a,r(o,u),Object.defineProperty(o.prototype,"Area",{get:function(){return o.Area},enumerable:!0,configurable:!0}),o.prototype.y=function(){for(var n=[],t=this.F.getAll(),r=this.P.getAll().reduce(function(n,t){return n[t.D+":"+t.elementId]=null,n},{}),i=0;i<t.length;i++){var e=[];if(t[i].D+":"+t[i].id in r){for(var o=0;o<this.v.length;o++)e.push(this.Mapping[this.v[o]](t[i]));n.push(e)}}return n},o.prototype.w=function(){return this.v},Object.defineProperty(o.prototype,"Mapping",{get:function(){var n={0:function(n){return n.id},1:function(n){return n.tag},2:function(n){return n.attrs},3:function(n){return n.abstractPath},4:function(n){return n.D}};return n},enumerable:!0,configurable:!0}),o.Area="DOM",o);function o(n,t,r){var i=u.call(this)||this;if(i.v=r,i.F=n,i.P=t,null==r){var e,o=[];for(e in i.Mapping)o.push(e);i.v=o}else i.v=r;return i}},function(n,t,r){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;t.assign=function(n){for(var t,r,i=Array.prototype.slice.call(arguments,1);i.length;){var e=i.shift();if(e){if("object"!=typeof e)throw new TypeError(e+"must be non-object");for(var o in e)t=e,r=o,Object.prototype.hasOwnProperty.call(t,r)&&(n[o]=e[o])}}return n},t.shrinkBuf=function(n,t){return n.length===t?n:n.subarray?n.subarray(0,t):(n.length=t,n)};var e={arraySet:function(n,t,r,i,e){if(t.subarray&&n.subarray)n.set(t.subarray(r,r+i),e);else for(var o=0;o<i;o++)n[e+o]=t[r+o]},flattenChunks:function(n){for(var t,r,i,e=0,o=0,u=n.length;o<u;o++)e+=n[o].length;for(i=new Uint8Array(e),o=t=0,u=n.length;o<u;o++)r=n[o],i.set(r,t),t+=r.length;return i}},o={arraySet:function(n,t,r,i,e){for(var o=0;o<i;o++)n[e+o]=t[r+o]},flattenChunks:function(n){return[].concat.apply([],n)}};t.setTyped=function(n){n?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,e)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(i)},function(n,t,r){"use strict";r.d(t,"a",function(){return i});var i=function(n,t){this.recordNumber=n,this.isComplete=t}},function(n,t,r){"use strict";t.a={BrowserInfo:null,BehavioralData:null,DOM:null}},function(n,t,r){"use strict";var s=(i.I=function(n){for(var t={},r=0;r<n.length;r++)t[n[r].name]=n[r].value;return t},i.U=function(n){return i.N(n).join("/")},i.N=function(n){for(var t=[];null!=n.parentNode;){for(var r=0,i=0,e=0;e<n.parentNode.childNodes.length;e++){var o=n.parentNode.childNodes[e];o.nodeName==n.nodeName&&(o===n&&(i=r),r++)}n.hasAttribute("id")&&""!=n.id?t.unshift(n.nodeName.toLowerCase()+"#"+n.id):1<r?t.unshift(n.nodeName.toLowerCase()+":eq("+i+")"):t.unshift(n.nodeName.toLowerCase()),n=n.parentNode}return t},i);function i(n,t,r){this.D=n,this.id=t,this.tag=r.localName,this.attrs=i.I(r.attributes),this.abstractPath=i.U(r)}var e=(o.prototype.startTracking=function(){var n,t=this.B.getEvents();for(n in t){var r=this.L.C(t[n].type),i=this._eventFilterFactory.constructFilter(t[n].type),i=this.getEventListener(this.Z,r,i,this.M,this.G,this.H);this.J[n]=i,window.addEventListener(n,i,!0)}},o.prototype.stopTracking=function(){for(var n in this.J)window.removeEventListener(n,this.J[n],!0),delete this.J[n]},o.prototype.getEventListener=function(i,e,t,o,u,c){var f=null!=t?function(n){return t.shouldSkip.bind(t)(n)}:function(n){return!1};return function(n){var t,r;f(n)||(r=e.map(n),i.add(r),n.target instanceof Element&&(t=u.getId(n.target),r=c.getId(),n=new s(r,t,n.target),o.add(n)))}},o);function o(n,t,r,i,e,o,u){this.Z=t,this.J={},this.B=r,this.L=i,this._eventFilterFactory=e,this.M=n,this.G=o,this.H=u}var u,c,f=r(7),a=(u=function(n,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])})(n,t)},function(n,t){function r(){this.constructor=n}u(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),h=(c=f.a,a(l,c),l.prototype.u=function(){var n=this,t={1:function(){return screen.availHeight},2:function(){return screen.availWidth},3:function(){return screen.height},4:function(){return screen.width},5:function(){return screen.colorDepth},6:function(){return screen&&screen.orientation?{angle:screen.orientation.angle,type:screen.orientation.type}:null},7:function(){return screen.pixelDepth},8:function(){return navigator.appCodeName},9:function(){return navigator.appName},10:function(){return navigator.appVersion},11:function(){var n;return null===(n=null===(n=navigator)||void 0===n?void 0:n.connection)||void 0===n?void 0:n.effectiveType},12:function(){var n;return null===(n=null===(n=navigator)||void 0===n?void 0:n.connection)||void 0===n?void 0:n.rtt},13:function(){var n;return null===(n=null===(n=navigator)||void 0===n?void 0:n.connection)||void 0===n?void 0:n.downlink},14:function(){var n;return null===(n=null===(n=navigator)||void 0===n?void 0:n.connection)||void 0===n?void 0:n.saveData},15:function(){return navigator.cookieEnabled},16:function(){return navigator.hardwareConcurrency},17:function(){return navigator.javaEnabled()},18:function(){return navigator.language},19:function(){return navigator.languages},20:function(){return navigator.maxTouchPoints},21:function(){return n.q()},22:function(){return navigator.platform},23:function(){return n.K()},25:function(){return navigator.userAgent},26:function(){return navigator.deviceMemory},27:function(){return window.innerWidth},28:function(){return window.innerHeight},29:function(){return window.outerWidth},30:function(){return window.outerHeight},32:function(){return navigator.oscpu},33:function(){return navigator.productSub},34:function(){return navigator.vendor},35:function(){return navigator.vendorSub},37:function(){return window.devicePixelRatio},38:function(){return window.dialogArguments},39:function(){return window.history.length},40:function(){return window.history.scrollRestoration},41:function(){return window.history.state},42:function(){return window.isSecureContext},43:function(){return window.length},44:function(){try{return new URL(document.referrer).origin}catch(n){return null}},45:function(){return window.orientation},48:function(){return window.screenX},49:function(){return window.screenY},50:function(){return window.status},51:function(){return window.closed},52:function(){return window.personalbar.visible},53:function(){return window.parent==window},54:function(){return window.menubar.visible},55:function(){return window.mozInnerScreenX},56:function(){return window.mozInnerScreenY},57:function(){return window.mozPaintCount},58:function(){return window.performance.timeOrigin},59:function(){var n;return null===(n=null===(n=null===(n=window)||void 0===n?void 0:n.performance)||void 0===n?void 0:n.memory)||void 0===n?void 0:n.totalJSHeapSize},60:function(){var n;return null===(n=null===(n=null===(n=window)||void 0===n?void 0:n.performance)||void 0===n?void 0:n.memory)||void 0===n?void 0:n.usedJSHeapSize},61:function(){var n;return null===(n=null===(n=null===(n=window)||void 0===n?void 0:n.performance)||void 0===n?void 0:n.memory)||void 0===n?void 0:n.jsHeapSizeLimit},62:function(){return window.performance.navigation.type},63:function(){return window.performance.navigation.redirectCount},64:function(){return window.performance.timing.navigationStart},65:function(){return window.performance.timing.unloadEventStart},66:function(){return window.performance.timing.unloadEventEnd},67:function(){return window.performance.timing.redirectStart},68:function(){return window.performance.timing.redirectEnd},69:function(){return window.performance.timing.fetchStart},70:function(){return window.performance.timing.domainLookupStart},71:function(){return window.performance.timing.domainLookupEnd},72:function(){return window.performance.timing.connectStart},73:function(){return window.performance.timing.connectEnd},74:function(){return window.performance.timing.secureConnectionStart},75:function(){return window.performance.timing.requestStart},76:function(){return window.performance.timing.responseStart},77:function(){return window.performance.timing.responseEnd},78:function(){return window.performance.timing.domLoading},79:function(){return window.performance.timing.domInteractive},80:function(){return window.performance.timing.domContentLoadedEventStart},81:function(){return window.performance.timing.domContentLoadedEventEnd},82:function(){return window.performance.timing.domComplete},83:function(){return window.performance.timing.loadEventStart},84:function(){return window.performance.timing.loadEventEnd},89:function(){return window.sessionStorage.length},90:function(){var n;return null===(n=window.sidebar)||void 0===n?void 0:n.length},91:function(){return window.statusbar.visible},92:function(){return window.toolbar.visible},93:function(){return n._browserIdProvider.getBrowserId()},94:function(){return(new Date).getTimezoneOffset()},95:function(){return Intl.DateTimeFormat().resolvedOptions().timeZone}};return t},l.prototype.q=function(){for(var n=[],t=0;t<navigator.mimeTypes.length;t++)n.push(navigator.mimeTypes[t]);return n.map(function(n){return[n.type,n.suffixes,n.description]})},l.prototype.K=function(){for(var n=[],t=0;t<navigator.plugins.length;t++)n.push(navigator.plugins[t]);return n.map(function(n){return[n.name,n.filename,n.description]})},Object.defineProperty(l.prototype,"Area",{get:function(){return l.Area},enumerable:!0,configurable:!0}),l.Area="BrowserInfo",l);function l(n,t){n=c.call(this,n)||this;return n._browserIdProvider=t,n}var d,v,a=(d=function(n,t){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])})(n,t)},function(n,t){function r(){this.constructor=n}d(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),w=(v=f.a,a(y,v),y.prototype.u=function(){var n={1:function(){return window.IGLOO.getBlackbox().blackbox}};return n},Object.defineProperty(y.prototype,"Area",{get:function(){return y.Area},enumerable:!0,configurable:!0}),y.Area="FraudForce",y);function y(n){return v.call(this,n)||this}var p=r(9),b=r(10),m=(g.prototype.getBrowserId=function(){return(this._browserIdStorage?this._browserIdStorage.get():null)||this.setBrowserId()},g.prototype.setBrowserId=function(){var n=this.getGUID();return this._browserIdStorage&&this._browserIdStorage.set(n),n},g.prototype.getGUID=function(){return"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".replace(/[x]/g,function(n){return(16*Math.random()|0).toString(16)})},g);function g(n){this._browserIdStorage=n}var _=(A.prototype.Y=function(n){var t,r=[];for(t in n)r.push(this.z(t,n[t]));return r},A.prototype.z=function(n,t){switch(n){case h.Area:return new h(t,new m(this._browserIdStorage));case w.Area:return new w(t);case p.a.Area:return new p.a(this.P,t);case b.a.Area:return new b.a(this.M,this.P,t);default:throw new Error("Argument out of range "+n)}},A);function A(n,t,r){this.P=n,this.M=t,this._browserIdStorage=r}var a=r(18),O=(r(16),r(1)),j=r(2),S=function(n,u,c,f){return new(c=c||Promise)(function(r,t){function i(n){try{o(f.next(n))}catch(n){t(n)}}function e(n){try{o(f.throw(n))}catch(n){t(n)}}function o(n){var t;n.done?r(n.value):((t=n.value)instanceof c?t:new c(function(n){n(t)})).then(i,e)}o((f=f.apply(n,u||[])).next())})},E=function(r,i){var e,o,u,c={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]},n={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function t(t){return function(n){return function(t){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=1,o&&(u=2&t[0]?o.return:t[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,t[1])).done)return u;switch(o=0,(t=u?[2&t[0],u.value]:t)[0]){case 0:case 1:u=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,o=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(u=0<(u=c.trys).length&&u[u.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!u||t[1]>u[0]&&t[1]<u[3])){c.label=t[1];break}if(6===t[0]&&c.label<u[1]){c.label=u[1],u=t;break}if(u&&c.label<u[2]){c.label=u[2],c.ops.push(t);break}u[2]&&c.ops.pop(),c.trys.pop();continue}t=i.call(r,c)}catch(n){t=[6,n],o=0}finally{e=u=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,n])}}};Object(a.polyfill)();var T=(x.prototype.verifyReferenceNumberAsync=function(r){return S(this,void 0,void 0,function(){var t;return E(this,function(n){switch(n.label){case 0:return[4,this._authenticationTokenManager.getGetAccessToken()];case 1:return t=n.sent(),[4,this.verifyReferenceNumberAsyncInternal(r,t)];case 2:return[2,n.sent()]}})})},x.prototype.X=function(r,i,e){return S(this,void 0,void 0,function(){var t;return E(this,function(n){switch(n.label){case 0:return[4,this._authenticationTokenManager.getGetAccessToken()];case 1:return t=n.sent(),[4,this.V(r,i,t,e)];case 2:return n.sent(),[2]}})})},x.prototype.V=function(r,i,e,o){return S(this,void 0,void 0,function(){var t;return E(this,function(n){switch(n.label){case 0:return t={method:"POST",body:JSON.stringify({referenceNumber:r,data:i,complete:o}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}},[4,fetch(this._url+"/v6.0/datasets/upload/web",t)];case 1:return t=n.sent(),[4,this.ensureSuccessStatusCode(t)];case 2:return n.sent(),[2]}})})},x.prototype.verifyReferenceNumberAsyncInternal=function(i,e){return S(this,void 0,void 0,function(){var t,r;return E(this,function(n){switch(n.label){case 0:return t={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}},[4,fetch(this._url+"/v6.0/datasets/upload/web/verifyreferencenumber?referenceNumber="+encodeURIComponent(i),t)];case 1:return r=n.sent(),[4,this.ensureSuccessStatusCode(r)];case 2:return n.sent(),[2,r.ok]}})})},x.prototype.ensureSuccessStatusCode=function(i){return S(this,void 0,void 0,function(){var t,r;return E(this,function(n){switch(n.label){case 0:return i.ok?[2]:400!=i.status?[3,2]:[4,i.json()];case 1:throw t=n.sent(),new O.CredoAppException(t.detail,this.getErrorCode(t.title));case 2:if(500==i.status)throw new O.CredoAppException("Internal server error",j.a.ServerError);return 401!=i.status&&403!=i.status?[3,4]:[4,i.json()];case 3:throw r=n.sent(),new O.CredoAppException(r.detail,this.getErrorCode(r.title));case 4:return[4,i.json()];case 5:throw r=n.sent(),new O.CredoAppException("status: "+r.status+", message: "+r.detail,j.a.UnknownError)}})})},x.prototype.getErrorCode=function(n){switch(n.title){case"reference_number_not_unique":case"dataset_in_complete_state":case"reference_number_expired":return j.a.StateInvalid;case"reference_number_invalid":return j.a.ValueInvalid;case"data_invalid":return j.a.UnknownError;case"subscription_suspended":case"standalone_flow_not_supported":return j.a.ActionForbidden}},x);function x(n,t){this._url=t,this._authenticationTokenManager=n}var k=r(3),R=r(4),D=r(5),F=r(6),P=(I.prototype.add=function(n){try{window.localStorage.setItem(""+I.EventIdTemplate+I.iterator,this.W(n)),window.localStorage.setItem(I.IteratorId,I.iterator.toString()),I.iterator++}catch(n){}},I.prototype.getAll=function(){for(var n=[],t=0;t<I.iterator;t++){var r=window.localStorage.getItem(""+I.EventIdTemplate+t);if(r)try{n.push(this.$(r))}catch(n){}}return n},I.prototype.getIteratorId=function(){return I.Q(I.IteratorId)},I.prototype.clearEvents=function(n){for(var t=0;t<I.iterator;t++)n(t)&&window.localStorage.removeItem(""+I.EventIdTemplate+t)},I.prototype.any=function(){for(var n=0;n<I.iterator;n++)if(window.localStorage.getItem(""+I.EventIdTemplate+n))return!0;return!1},I.prototype.clear=function(){for(var n=0;n<I.iterator;n++)window.localStorage.removeItem(""+I.EventIdTemplate+n);for(n=0;n<I.iteratorObsolete;n++)window.localStorage.removeItem(""+I.EventIdTemplateObsolete+n);window.localStorage.removeItem(I.IteratorId),window.localStorage.removeItem(I.IteratorIdObsolete)},I.prototype.W=function(n){n=n instanceof F.a?this.nn(n):n instanceof R.a?this.tn(n):n instanceof D.a?this.rn(n):this.in(n);return JSON.stringify(n)},I.prototype.in=function(n){return[I.BehavioralEventIdentifier,n.date,n.D,n.elementId,n.eventType]},I.prototype.en=function(n){var t=new k.a;return t.date=n[1],t.D=n[2],t.elementId=n[3],t.eventType=n[4],t},I.prototype.tn=function(n){return[I.KeyboardEventIdentifier,n.date,n.D,n.elementId,n.eventType,n.keyCode,this.un(n.altKey),this.un(n.ctrlKey),this.un(n.isComposing),this.un(n.isTrusted),this.un(n.metaKey),this.un(n.repeat),this.un(n.shiftKey)]},I.prototype.cn=function(n){var t=new R.a;return t.date=n[1],t.D=n[2],t.elementId=n[3],t.eventType=n[4],t.keyCode=n[5],t.altKey=this.fn(n[6]),t.ctrlKey=this.fn(n[7]),t.isComposing=this.fn(n[8]),t.isTrusted=this.fn(n[9]),t.metaKey=this.fn(n[10]),t.repeat=this.fn(n[11]),t.shiftKey=this.fn(n[12]),t},I.prototype.nn=function(n){return[I.InputEventIdentifier,n.date,n.D,n.elementId,n.eventType,n.inputType,n.dataType]},I.prototype.sn=function(n){var t=new F.a;return t.date=n[1],t.D=n[2],t.elementId=n[3],t.eventType=n[4],t.inputType=n[5],t.dataType=n[6],t},I.prototype.rn=function(n){return[I.PointerEventIdentifier,n.date,n.D,n.elementId,n.eventType,n.pointerId,n.pageX,n.pageY,n.pointerType,n.isPrimary]},I.prototype.an=function(n){var t=new D.a;return t.date=n[1],t.D=n[2],t.elementId=n[3],t.eventType=n[4],t.pointerId=n[5],t.pageX=n[6],t.pageY=n[7],t.pointerType=n[8],t.isPrimary=n[9],t},I.prototype.$=function(n){n=JSON.parse(n);return n[0]===I.PointerEventIdentifier?this.an(n):n[0]===I.BehavioralEventIdentifier?this.en(n):n[0]===I.InputEventIdentifier?this.sn(n):this.cn(n)},I.prototype.fn=function(n){return n?1:0},I.prototype.un=function(n){return 0<n},I.Q=function(t){try{if(!window.localStorage)return 0;for(var n=0,r=window.localStorage.length;n<r;n++)if(localStorage.key(n).startsWith(t))try{var i=window.localStorage.getItem(t);return parseInt(i)}catch(n){return window.localStorage.removeItem(t),0}return 0}catch(n){return 0}},I.IteratorId="cl:i",I.EventIdTemplate="cl:ev:",I.IteratorIdObsolete="credolab:iterator",I.EventIdTemplateObsolete="credolab:event:",I.PointerEventIdentifier=0,I.BehavioralEventIdentifier=1,I.KeyboardEventIdentifier=2,I.InputEventIdentifier=3,I.iterator=I.Q(I.IteratorId),I.iteratorObsolete=I.Q(I.IteratorIdObsolete),I);function I(){}var U=(N.prototype.add=function(n){N.events.push(n)},N.prototype.getAll=function(){return N.events},N.prototype.getIteratorId=function(){return N.events.length},N.prototype.clearEvents=function(r){N.events=N.events.filter(function(n,t){return r(t)})},N.prototype.any=function(){return 0<N.events.length},N.prototype.clear=function(){N.events=[]},N.events=[],N);function N(){}var B=(C.prototype.add=function(n){var t=""+C.ElementIdTemplate+n.id+":"+this.H.getId();if(!window.localStorage.getItem(t))try{window.localStorage.setItem(t,this.hn(n))}catch(n){}},C.prototype.getAll=function(){for(var n=[],t=0,r=this.getAllKeys();t<r.length;t++){var i=r[t],i=window.localStorage.getItem(i);i&&n.push(this.ln(i))}return n},C.prototype.clear=function(){for(var n=0,t=this.getAllKeys();n<t.length;n++){var r=t[n];window.localStorage.removeItem(r)}},C.prototype.hn=function(n){return JSON.stringify(n)},C.prototype.ln=function(n){return JSON.parse(n)},C.prototype.getAllKeys=function(){for(var n=[],t=0,r=window.localStorage.length;t<r;t++){var i=localStorage.key(t);i.startsWith(C.ElementIdTemplate)&&n.push(localStorage.key(t)),i.startsWith(C.ElementIdTemplateObsolete)&&n.push(localStorage.key(t))}return n},C.ElementIdTemplateObsolete="credolab:element:",C.ElementIdTemplate="cl:el:",C);function C(n){this.H=n,String.prototype.startsWith||(String.prototype.startsWith=function(n,t){return this.indexOf(n,t=t||0)===t})}var L=(Z.prototype.add=function(t){Z.elements.some(function(n){return n.id==t.id&&n.D==t.D})||Z.elements.push(t)},Z.prototype.getAll=function(){return Z.elements},Z.prototype.clear=function(){Z.elements=[]},Z.elements=[],Z);function Z(){}var M=(G.prototype.set=function(n){try{window.localStorage.getItem(this.deviceIdTemplateObsolete)?(window.localStorage.setItem(""+this.deviceIdTemplate,n),window.localStorage.removeItem(this.deviceIdTemplateObsolete)):window.localStorage.setItem(""+this.deviceIdTemplate,n)}catch(n){}},G.prototype.get=function(){return window.localStorage.getItem(this.deviceIdTemplate)},G);function G(){this.deviceIdTemplate="cl:bId",this.deviceIdTemplateObsolete="credolab:browserId"}var H=(J.prototype.dn=function(){return new(this.vn()?P:U)},J.prototype.wn=function(){return this.vn()?new B(this.H):new L},J.prototype.getBrowserIdStorage=function(){return this.vn()?new M:null},J.prototype.vn=function(){var n="clStorageTK";try{return window.localStorage.setItem(n,"clStorageTV"),window.localStorage.removeItem(n),!0}catch(n){return!1}},J);function J(n){this.H=n}var q=(K.prototype.getEvents=function(){var n,t={};for(n in this.yn.Events)this.isEventSupported(n)&&(t[n]=this.yn.Events[n]);return t},K.prototype.isEventSupported=function(n){var t=document.createElement({select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"}[n]||"div"),r=(n="on"+n)in t;return r||(t.setAttribute(n,"return;"),r="function"==typeof t.getAttribute(n)),t=null,r},K);function K(n){this.yn=n,this.pn=Object.keys(window)}var Y=r(0),z=(Object.defineProperty(X.prototype,"Events",{get:function(){return this._events},enumerable:!0,configurable:!0}),X);function X(){this._events={search:{id:1,type:Y.a.behavioral},webkitanimationend:{id:2,type:Y.a.behavioral},webkitanimationiteration:{id:3,type:Y.a.behavioral},webkitanimationstart:{id:4,type:Y.a.behavioral},webkittransitionend:{id:5,type:Y.a.behavioral},abort:{id:6,type:Y.a.behavioral},blur:{id:7,type:Y.a.behavioral},cancel:{id:8,type:Y.a.behavioral},canplay:{id:9,type:Y.a.behavioral},canplaythrough:{id:10,type:Y.a.behavioral},change:{id:11,type:Y.a.behavioral},click:{id:12,type:Y.a.behavioral},close:{id:13,type:Y.a.behavioral},contextmenu:{id:14,type:Y.a.behavioral},cuechange:{id:15,type:Y.a.behavioral},dblclick:{id:16,type:Y.a.behavioral},drag:{id:17,type:Y.a.behavioral},dragend:{id:18,type:Y.a.behavioral},dragenter:{id:19,type:Y.a.behavioral},dragleave:{id:20,type:Y.a.behavioral},dragover:{id:21,type:Y.a.behavioral},dragstart:{id:22,type:Y.a.behavioral},drop:{id:23,type:Y.a.behavioral},durationchange:{id:24,type:Y.a.behavioral},emptied:{id:25,type:Y.a.behavioral},ended:{id:26,type:Y.a.behavioral},error:{id:27,type:Y.a.behavioral},focus:{id:28,type:Y.a.behavioral},input:{id:29,type:Y.a.input},invalid:{id:30,type:Y.a.behavioral},keydown:{id:31,type:Y.a.keyboard},keyup:{id:33,type:Y.a.keyboard},load:{id:34,type:Y.a.behavioral},loadeddata:{id:35,type:Y.a.behavioral},loadedmetadata:{id:36,type:Y.a.behavioral},loadstart:{id:37,type:Y.a.behavioral},pause:{id:38,type:Y.a.behavioral},play:{id:39,type:Y.a.behavioral},playing:{id:40,type:Y.a.behavioral},progress:{id:41,type:Y.a.behavioral},ratechange:{id:42,type:Y.a.behavioral},reset:{id:43,type:Y.a.behavioral},resize:{id:44,type:Y.a.behavioral},scroll:{id:45,type:Y.a.behavioral},seeked:{id:46,type:Y.a.behavioral},seeking:{id:47,type:Y.a.behavioral},select:{id:48,type:Y.a.behavioral},stalled:{id:49,type:Y.a.behavioral},submit:{id:50,type:Y.a.behavioral},suspend:{id:51,type:Y.a.behavioral},timeupdate:{id:52,type:Y.a.behavioral},toggle:{id:53,type:Y.a.behavioral},volumechange:{id:54,type:Y.a.behavioral},waiting:{id:55,type:Y.a.behavioral},wheel:{id:56,type:Y.a.behavioral},auxclick:{id:57,type:Y.a.behavioral},gotpointercapture:{id:58,type:Y.a.behavioral},lostpointercapture:{id:59,type:Y.a.behavioral},selectstart:{id:60,type:Y.a.behavioral},selectionchange:{id:61,type:Y.a.behavioral},animationend:{id:62,type:Y.a.behavioral},animationiteration:{id:63,type:Y.a.behavioral},animationstart:{id:64,type:Y.a.behavioral},transitionend:{id:65,type:Y.a.behavioral},afterprint:{id:66,type:Y.a.behavioral},beforeprint:{id:67,type:Y.a.behavioral},beforeunload:{id:68,type:Y.a.behavioral},hashchange:{id:69,type:Y.a.behavioral},languagechange:{id:70,type:Y.a.behavioral},message:{id:71,type:Y.a.behavioral},messageerror:{id:72,type:Y.a.behavioral},offline:{id:73,type:Y.a.behavioral},online:{id:74,type:Y.a.behavioral},pagehide:{id:75,type:Y.a.behavioral},pageshow:{id:76,type:Y.a.behavioral},popstate:{id:77,type:Y.a.behavioral},rejectionhandled:{id:78,type:Y.a.behavioral},unhandledrejection:{id:80,type:Y.a.behavioral},unload:{id:81,type:Y.a.behavioral},appinstalled:{id:82,type:Y.a.behavioral},beforeinstallprompt:{id:83,type:Y.a.behavioral},formdata:{id:84,type:Y.a.behavioral},devicemotion:{id:85,type:Y.a.behavioral},deviceorientation:{id:86,type:Y.a.behavioral},deviceorientationabsolute:{id:87,type:Y.a.behavioral},fullscreenchange:{id:88,type:Y.a.behavioral},pointerdown:{id:96,type:Y.a.pointer},pointermove:{id:97,type:Y.a.pointer},pointerup:{id:98,type:Y.a.pointer},pointerleave:{id:99,type:Y.a.pointer},compositionstart:{id:100,type:Y.a.behavioral},compositionupdate:{id:101,type:Y.a.behavioral},compositionend:{id:102,type:Y.a.behavioral},fullscreenerror:{id:103,type:Y.a.behavioral},cut:{id:104,type:Y.a.behavioral},copy:{id:105,type:Y.a.behavioral},paste:{id:106,type:Y.a.behavioral},loadend:{id:107,type:Y.a.behavioral},checking:{id:108,type:Y.a.behavioral},CheckboxStateChange:{id:109,type:Y.a.behavioral},RadioStateChange:{id:110,type:Y.a.behavioral},popupshown:{id:111,type:Y.a.behavioral},touchcancel:{id:112,type:Y.a.behavioral},touchend:{id:113,type:Y.a.behavioral},touchmove:{id:114,type:Y.a.behavioral},touchstart:{id:115,type:Y.a.behavioral},pointerover:{id:116,type:Y.a.pointer},pointerenter:{id:117,type:Y.a.pointer},pointercancel:{id:118,type:Y.a.pointer},pointerout:{id:119,type:Y.a.pointer}}}V.prototype.map=function(n){var t=this.bn();return this.mn(n,t),t},a=V;function V(){}var W,$,Q=((W=function(n,t){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])})(n,t)},function(n,t){function r(){this.constructor=n}W(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})(nn,$=a),nn.prototype.bn=function(){return new k.a},nn.prototype.mn=function(n,t){t.D=this.H.getId(),t.eventType=this.gn.getId(n.type),t.date=(new Date).getTime(),n.target instanceof Element&&(n=n.target,t.elementId=this._n.getId(n))},nn);function nn(n,t,r){var i=$.call(this)||this;return i.gn=n,i._n=t,i.H=r,i}var tn,rn,en=((tn=function(n,t){return(tn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])})(n,t)},function(n,t){function r(){this.constructor=n}tn(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})(on,rn=Q),on.prototype.bn=function(){return new R.a},on.prototype.mn=function(n,t){rn.prototype.mn.call(this,n,t),this.An(n,t)},on.prototype.An=function(n,t){t.altKey=this.fn(n.altKey),t.ctrlKey=this.fn(n.ctrlKey),t.isComposing=this.fn(n.isComposing),t.isTrusted=this.fn(n.isTrusted),t.metaKey=this.fn(n.metaKey),t.repeat=this.fn(n.repeat),t.shiftKey=this.fn(n.shiftKey),t.keyCode=this.On.getKeyCode(n)},on.prototype.fn=function(n){return n?1:0},on);function on(n,t,r,i){r=rn.call(this,n,t,r)||this;return r.On=i,r}var un,cn,fn=((un=function(n,t){return(un=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])})(n,t)},function(n,t){function r(){this.constructor=n}un(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})(sn,cn=Q),sn.prototype.bn=function(){return new D.a},sn.prototype.mn=function(n,t){cn.prototype.mn.call(this,n,t),this.jn(n,t)},sn.prototype.jn=function(n,t){t.pointerId=n.pointerId,t.pageX=n.pageX,t.pageY=n.pageY,t.pointerType=n.pointerType,t.isPrimary=this.fn(n.isPrimary)},sn.prototype.fn=function(n){return n?1:0},sn);function sn(n,t,r){return cn.call(this,n,t,r)||this}var an=(hn.Sn="~`!@#$%^&*()-_=+[{]};:\"|\\<,>.?/'",hn);function hn(){}var ln,dn,a=(ln=function(n,t){return(ln=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])})(n,t)},function(n,t){function r(){this.constructor=n}ln(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),vn=(a(wn,dn=Q),wn.prototype.bn=function(){return new F.a},wn.prototype.mn=function(n,t){dn.prototype.mn.call(this,n,t),this.En(n,t)},wn.prototype.En=function(n,t){t.dataType=this.Tn(n.data),t.inputType=this.xn(n.inputType)},wn.prototype.xn=function(n){try{return wn.kn[n]}catch(n){return null}},wn.prototype.Tn=function(n){return null!=n&&1==n.length?isNaN(Number(n))?this.Rn(n)?-6:null:-1:null},wn.prototype.Rn=function(n){return an.Sn.includes(n)},wn.kn={insertText:1,insertReplacementText:2,insertLineBreak:3,insertParagraph:4,insertOrderedList:5,insertUnorderedList:6,insertHorizontalRule:7,insertFromYank:8,insertFromDrop:9,insertFromPaste:10,insertFromPasteAsQuotation:11,insertTranspose:12,insertCompositionText:13,insertLink:14,deleteWordBackward:15,deleteWordForward:16,deleteSoftLineBackward:17,deleteSoftLineForward:18,deleteEntireSoftLine:19,deleteHardLineBackward:20,deleteHardLineForward:21,deleteByDrag:22,deleteByCut:23,deleteContent:24,deleteContentBackward:25,deleteContentForward:26,historyUndo:27,historyRedo:28,formatBold:29,formatItalic:30,formatUnderline:31,formatStrikeThrough:32,formatSuperscript:22,formatSubscript:34,formatJustifyFull:35,formatJustifyCenter:36,formatJustifyRight:37,formatJustifyLeft:38,formatIndent:39,formatOutdent:40,formatRemove:41,formatSetBlockTextDirection:42,formatSetInlineTextDirection:43,formatBackColor:44,formatFontColor:45,formatFontName:46},wn);function wn(n,t,r){return dn.call(this,n,t,r)||this}var yn=(pn.prototype.C=function(n){switch(n){case Y.a.behavioral:return new Q(this.Dn,this.Fn,this.Pn);case Y.a.keyboard:return new en(this.Dn,this.Fn,this.Pn,this.On);case Y.a.pointer:return new fn(this.Dn,this.Fn,this.Pn);case Y.a.input:return new vn(this.Dn,this.Fn,this.Pn);default:throw new Error("argument eventType out of range. value: "+n)}},pn);function pn(n,t,r,i){this.Dn=n,this.Fn=t,this.Pn=r,this.On=i}var bn=(mn.prototype.getId=function(n){return this.yn.Events[n].id},mn);function mn(n){this.yn=n}var gn=function(n,t){this.key=n,this.value=t},_n=(An.prototype.add=function(n,t){this._items.push(new gn(n,t))},An.prototype.get=function(n){for(var t=0,r=this._items;t<r.length;t++){var i=r[t];if(i.key==n)return i.value}throw"no key exists"},An.prototype.containsKey=function(t){return this._items.some(function(n){return n.key==t})},An.prototype.toArray=function(){return this._items},An);function An(){this._items=[]}var On=(jn.prototype.getId=function(n){if(this.e.containsKey(n))return this.e.get(n);var t=jn.In;return jn.In++,this.e.add(n,t),t},jn.In=0,jn);function jn(){this.e=new _n}var Sn=(En.prototype.getKeyCode=function(t){var n=this.Un[t.keyCode];if(null!=n&&0<n.length){n=n.filter(function(n){return n.match(t)});return 0<n.length?n[0].getKeyCode(t):t.keyCode}return null},En);function En(n){this.Un={};for(var t=0;t<256;t++)this.Un[t]=[];for(var r=0,i=n;r<i.length;r++)for(var e=i[r],o=0,u=e.Nn();o<u.length;o++){var c=u[o];this.Un[c].push(e)}}var Tn=(xn.prototype.match=function(n){return this.Bn(n,xn.Cn)||this.Bn(n,xn.Ln)||this.Bn(n,xn.Zn)},xn.prototype.getKeyCode=function(n){if(this.Bn(n,xn.Cn))return xn.Mn;if(this.Bn(n,xn.Ln))return xn.Gn;if(this.Bn(n,xn.Zn))return xn.Hn;throw new Error},xn.prototype.Nn=function(){return[xn.Cn,xn.Zn,xn.Ln]},xn.prototype.Bn=function(n,t){return n.ctrlKey&&t==n.keyCode},xn.Cn=67,xn.Ln=86,xn.Zn=88,xn.Mn=-2,xn.Gn=-3,xn.Hn=-4,xn);function xn(){}var kn=(Rn.prototype.match=function(t){return Rn.Jn.some(function(n){return n==t.keyCode})},Rn.prototype.getKeyCode=function(n){return Rn.qn},Rn.prototype.Nn=function(){return Rn.Jn},Rn.Jn=[48,49,50,51,52,53,54,55,56,57,96,97,98,99,100,101,102,103,104,105],Rn.qn=-1,Rn);function Rn(){}var Dn=(Fn.prototype.match=function(n){return an.Sn.includes(n.key)},Fn.prototype.getKeyCode=function(n){return Fn.KeyCode},Fn.prototype.Nn=function(){return Fn.Kn},Fn.Kn=[18,192,48,49,50,51,52,53,54,55,56,57,106,107,109,110,111,186,187,188,189,190,191,219,220,221,222],Fn.KeyCode=-6,Fn);function Fn(){}var Pn=(In.prototype.getId=function(){return In.Hash},In.Hash=(In.Yn=function(){var n=new Date,t=new Date;return t.setHours(0,0,0,0),Math.floor((n-t)/1e3).toString(32)})(),In);function In(){}var Un=(Nn.prototype.match=function(n){return this.matchInternal(n.keyCode)},Nn.prototype.getKeyCode=function(n){return n.keyCode},Nn.prototype.Nn=function(){for(var n=[],t=0;t<256;t++)this.matchInternal(t)&&n.push(t);return n},Nn.prototype.matchInternal=function(n){return n<47||112<n},Nn);function Nn(){}var Bn=function(n){this.accessToken=n.access_token,this.tokenType=n.token_type,this.issued=Date.parse(n[".issued"]),this.expires=Date.parse(n[".expires"]),this.refreshToken=n.refresh_token},Cn=function(n,u,c,f){return new(c=c||Promise)(function(r,t){function i(n){try{o(f.next(n))}catch(n){t(n)}}function e(n){try{o(f.throw(n))}catch(n){t(n)}}function o(n){var t;n.done?r(n.value):((t=n.value)instanceof c?t:new c(function(n){n(t)})).then(i,e)}o((f=f.apply(n,u||[])).next())})},Ln=function(r,i){var e,o,u,c={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]},n={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function t(t){return function(n){return function(t){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=1,o&&(u=2&t[0]?o.return:t[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,t[1])).done)return u;switch(o=0,(t=u?[2&t[0],u.value]:t)[0]){case 0:case 1:u=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,o=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(u=0<(u=c.trys).length&&u[u.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!u||t[1]>u[0]&&t[1]<u[3])){c.label=t[1];break}if(6===t[0]&&c.label<u[1]){c.label=u[1],u=t;break}if(u&&c.label<u[2]){c.label=u[2],c.ops.push(t);break}u[2]&&c.ops.pop(),c.trys.pop();continue}t=i.call(r,c)}catch(n){t=[6,n],o=0}finally{e=u=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,n])}}},Zn=(Mn.prototype.getGetAccessToken=function(){return Cn(this,void 0,void 0,function(){return Ln(this,function(n){switch(n.label){case 0:return null==this._loginResponse?[3,1]:[2,this._loginResponse.accessToken];case 1:return null==this._loginPromise?[3,3]:[4,this._loginPromise];case 2:return[2,n.sent().accessToken];case 3:return[4,this.login()];case 4:return[2,n.sent().accessToken]}})})},Mn.prototype.scheduleLoginAction=function(){var t=this;this._loginPromise=this.login(),this._loginPromise.then(function(n){t._loginResponse=n,t._loginPromise=null;n=(n.expires-(new Date).getTime())/2;setTimeout(t.scheduleLoginAction.bind(t),n<Mn.MaxInterval?n:Mn.MaxInterval)},function(n){t._loginResponse=null,t._loginPromise=null})},Mn.prototype.login=function(){return Cn(this,void 0,void 0,function(){var t,r,i,e;return Ln(this,function(n){switch(n.label){case 0:return t={method:"POST",body:JSON.stringify({authKey:this._authKey}),headers:{"Content-Type":"application/json"}},[4,fetch(this._url+"/v5.0/account/credoAppLogin",t)];case 1:if(400==(r=n.sent()).status)throw new O.CredoAppException("AuthKey is invalid",j.a.ValueInvalid);if(500<=r.status)throw new O.CredoAppException("Internal server error",j.a.ServerError);return e=(i=JSON).parse,[4,r.text()];case 2:return r=e.apply(i,[n.sent()]),[2,new Bn(r)]}})})},Mn.MaxInterval=3e5,Mn);function Mn(n,t){this._authKey=t,this._url=n,this.scheduleLoginAction.bind(this)()}var Gn=(Hn.prototype.shouldSkip=function(n){var t=(new Date).getTime();return!(!this._lastFilteredEventTime||t-this._lastFilteredEventTime>Hn.Delay)||(this._lastFilteredEventTime=t,!1)},Hn.Delay=100,Hn);function Hn(){}var Jn=(qn.prototype.constructFilter=function(n){return n!==Y.a.pointer?null:new Gn},qn);function qn(){}var Kn=function(){this.sdkIdentifier=1632122625},Yn=(zn.prototype.zn=function(n){return this.Xn.Y(n)},zn.prototype.getBrowserIdStorage=function(){return this._browserIdStorage},zn.prototype.getIdentifierConfig=function(){return this._identifierConfig},zn.prototype.getBehavioralTracker=function(){return new e(this.M,this.P,this.B,this.L,this._eventFilterFactory,this._n,this.H)},zn.prototype.getHttpClient=function(n,t){return new T(new Zn(n,t),n)},zn.prototype.dn=function(){return this.P},zn.prototype.getPageIdProvider=function(){return this.H},zn.prototype.clearStorage=function(){this.P.clear(),this.M.clear()},zn);function zn(){this.H=new Pn;var n=new H(this.H);this.P=n.dn(),this.M=n.wn(),this._browserIdStorage=n.getBrowserIdStorage(),this.Xn=new _(this.P,this.M,this._browserIdStorage),this.yn=new z,this.B=new q(this.yn),this.Dn=new bn(this.yn),this._n=new On,this.Un=[new Tn,new Dn,new kn,new Un],this.On=new Sn(this.Un),this.L=new yn(this.Dn,this._n,this.H,this.On),this._eventFilterFactory=new Jn,this._identifierConfig=new Kn}var Xn=r(15),Vn=r(13);r.d(t,"a",function(){return Wn});var Wn=($n.prototype.handleException=function(n){if(n instanceof O.CredoAppException)throw n;throw new O.CredoAppException("Something went wrong",j.a.UnknownError)},$n);function $n(n,t){this._dependencyResolver=new Yn,this._credoLabHttpClient=this._dependencyResolver.getHttpClient(n,t),this._tracker=this._dependencyResolver.getBehavioralTracker(),this._browserIdStorageProvider=new m(this._dependencyResolver.getBrowserIdStorage()),this._identifierConfig=this._dependencyResolver.getIdentifierConfig(),this.H=this._dependencyResolver.getPageIdProvider(),this._collectBlackBoxJob=new Xn.a(this._credoLabHttpClient,Vn.a,this._dependencyResolver,this._browserIdStorageProvider,this.H,this._identifierConfig)}},function(n,t,r){"use strict";var i;!function(n){var t=(r.encode=function(n){for(var t=[],r=0;r<n.length;r++){var i=n.charCodeAt(r);i<128?t.push(i):i<2048?t.push(192|i>>6,128|63&i):i<55296||57344<=i?t.push(224|i>>12,128|i>>6&63,128|63&i):(r++,i=65536+((1023&i)<<10|1023&n.charCodeAt(r)),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i))}return t},r);function r(){}n.Utf8=t;i.decode=function(n){for(var t="",r=0;r<n.length;r++)t+=String.fromCharCode(n[r]);return window.btoa(t)},t=i;function i(){}n.Base64=t}(i=i||{});var e,u,o=r(19),c=r(7),f=(e=function(n,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])})(n,t)},function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(u=c.a,f(a,u),Object.defineProperty(a.prototype,"Area",{get:function(){return a.Area},enumerable:!0,configurable:!0}),a.prototype.u=function(){var n=this,t={0:function(){return n.Vn},1:function(){return n._sdkIdentifier},2:function(){return n.Wn},3:function(){return n._collectionDateEnd},4:function(){return navigator.userAgent},5:function(){return n._browserId},6:function(){return window.location.host},7:function(){return n.$n}};return t},a.Area="GeneralInfo",a);function a(n,t,r,i,e){var o=u.call(this)||this;return o.Wn=i,o._collectionDateEnd=e,o.Vn=9,o.$n=n.getId(),o._browserId=t.getBrowserId(),o._sdkIdentifier=r.sdkIdentifier.toString(),o}var h=function(){for(var n=0,t=0,r=arguments.length;t<r;t++)n+=arguments[t].length;for(var i=Array(n),e=0,t=0;t<r;t++)for(var o=arguments[t],u=0,c=o.length;u<c;u++,e++)i[e]=o[u];return i},l=(d.prototype.append=function(n){this.Qn.push(n)},d.prototype.toString=function(){var n=this.getGeneralInfoExtractorData(),t={DataSetDescription:this.nt(h([n],this.Qn))},r=this.tt(),n=this.rt(n),r=JSON.stringify(h([n,t],r));return this.compress(r)},d.prototype.nt=function(n){for(var t=[],r=0,i=n;r<i.length;r++){var e=i[r],o={};o[e.Area]=e.Description,t.push(o)}return t},d.prototype.tt=function(){for(var n=[],t=0,r=this.Qn;t<r.length;t++){var i=r[t],e={};e[i.Area]=i.Data,n.push(e)}return n},d.prototype.rt=function(n){var t={};return t[n.Area]=n.Data,t},d.prototype.getGeneralInfoExtractorData=function(){return new s(this.H,this._browserIdProvider,this._identifierConfig,this.Wn,Date.now()).extract()},d.prototype.compress=function(n){n=i.Utf8.encode(n),n=Object(o.deflate)(n),n=this.slice(n,2);return i.Base64.decode(n)},d.prototype.slice=function(n,t){for(var r=new Uint8Array(n.length-t),i=t;i<n.length;i++)r[i-t]=n[i];return r},d);function d(n,t,r){this._browserIdProvider=n,this._identifierConfig=t,this.H=r,this.Qn=[],this.Wn=(new Date).getTime()}r.d(t,"a",function(){return y});var v=function(n,u,c,f){return new(c=c||Promise)(function(r,t){function i(n){try{o(f.next(n))}catch(n){t(n)}}function e(n){try{o(f.throw(n))}catch(n){t(n)}}function o(n){var t;n.done?r(n.value):((t=n.value)instanceof c?t:new c(function(n){n(t)})).then(i,e)}o((f=f.apply(n,u||[])).next())})},w=function(r,i){var e,o,u,c={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]},n={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function t(t){return function(n){return function(t){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=1,o&&(u=2&t[0]?o.return:t[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,t[1])).done)return u;switch(o=0,(t=u?[2&t[0],u.value]:t)[0]){case 0:case 1:u=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,o=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(u=0<(u=c.trys).length&&u[u.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!u||t[1]>u[0]&&t[1]<u[3])){c.label=t[1];break}if(6===t[0]&&c.label<u[1]){c.label=u[1],u=t;break}if(u&&c.label<u[2]){c.label=u[2],c.ops.push(t);break}u[2]&&c.ops.pop(),c.trys.pop();continue}t=i.call(r,c)}catch(n){t=[6,n],o=0}finally{e=u=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,n])}}},y=(p.prototype.executeAsync=function(t){return v(this,void 0,void 0,function(){return w(this,function(n){switch(n.label){case 0:return[4,this.X(t,this.collectBlackBoxInternal())];case 1:return n.sent(),this._dependencyResolver.clearStorage(),[2]}})})},p.prototype.X=function(n,t){return this._credoLabHttpClient.X(n.recordNumber,t,n.isComplete)},p.prototype.config=function(){return this._config},p.prototype.collectBlackBoxInternal=function(){for(var n=new l(this._browserIdProvider,this._identifierConfig,this.H),t=0,r=this._dependencyResolver.zn(this.config());t<r.length;t++){var i=r[t];n.append(i.extract())}return n.toString()},p);function p(n,t,r,i,e,o){this._credoLabHttpClient=n,this._config=t,this._dependencyResolver=r,this._browserIdProvider=i,this.H=e,this._identifierConfig=o}},function(n,t,r){r(25),n.exports=self.fetch.bind(self)},function(n,t,r){"use strict";n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(n,t,r){!function(en,on){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */
n.exports=function(){"use strict";function i(n){var t=typeof n;return n!==null&&(t==="object"||t==="function")}function f(n){return typeof n==="function"}var n=void 0;if(Array.isArray)n=Array.isArray;else n=function(n){return Object.prototype.toString.call(n)==="[object Array]"};var r=n,e=0,t=void 0,o=void 0,u=function n(t,r){g[e]=t;g[e+1]=r;e+=2;if(e===2)if(o)o(_);else O()};function c(n){o=n}function s(n){u=n}var a=typeof window!=="undefined"?window:undefined,h=a||{},l=h.MutationObserver||h.WebKitMutationObserver,d=typeof self==="undefined"&&typeof en!=="undefined"&&{}.toString.call(en)==="[object process]",v=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function w(){return function(){return en.nextTick(_)}}function y(){if(typeof t!=="undefined")return function(){t(_)};return m()}function p(){var n=0;var t=new l(_);var r=document.createTextNode("");t.observe(r,{characterData:true});return function(){r.data=n=++n%2}}function b(){var n=new MessageChannel;n.port1.onmessage=_;return function(){return n.port2.postMessage(0)}}function m(){var n=setTimeout;return function(){return n(_,1)}}var g=new Array(1e3);function _(){for(var n=0;n<e;n+=2){var t=g[n];var r=g[n+1];t(r);g[n]=undefined;g[n+1]=undefined}e=0}function A(){try{var n=Function("return this")().require("vertx");t=n.runOnLoop||n.runOnContext;return y()}catch(n){return m()}}var O=void 0;if(d)O=w();else if(l)O=p();else if(v)O=b();else if(a===undefined&&"function"==="function")O=A();else O=m();function j(n,t){var r=this;var i=new this.constructor(T);if(i[E]===undefined)Y(i);var e=r._state;if(e){var o=arguments[e-1];u(function(){return H(e,i,o,r._result)})}else M(r,i,n,t);return i}function S(n){var t=this;if(n&&typeof n==="object"&&n.constructor===t)return n;var r=new t(T);B(r,n);return r}var E=Math.random().toString(36).substring(2);function T(){}var x=void 0,k=1,R=2;function D(){return new TypeError("You cannot resolve a promise with itself")}function F(){return new TypeError("A promises callback cannot return that same promise.")}function P(n,t,r,i){try{n.call(t,r,i)}catch(n){return n}}function I(n,i,e){u(function(t){var r=false;var n=P(e,i,function(n){if(r)return;r=true;if(i!==n)B(t,n);else L(t,n)},function(n){if(r)return;r=true;Z(t,n)},"Settle: "+(t._label||" unknown promise"));if(!r&&n){r=true;Z(t,n)}},n)}function U(t,n){if(n._state===k)L(t,n._result);else if(n._state===R)Z(t,n._result);else M(n,undefined,function(n){return B(t,n)},function(n){return Z(t,n)})}function N(n,t,r){if(t.constructor===n.constructor&&r===j&&t.constructor.resolve===S)U(n,t);else if(r===undefined)L(n,t);else if(f(r))I(n,t,r);else L(n,t)}function B(t,n){if(t===n)Z(t,D());else if(i(n)){var r=void 0;try{r=n.then}catch(n){Z(t,n);return}N(t,n,r)}else L(t,n)}function C(n){if(n._onerror)n._onerror(n._result);G(n)}function L(n,t){if(n._state!==x)return;n._result=t;n._state=k;if(n._subscribers.length!==0)u(G,n)}function Z(n,t){if(n._state!==x)return;n._state=R;n._result=t;u(C,n)}function M(n,t,r,i){var e=n._subscribers;var o=e.length;n._onerror=null;e[o]=t;e[o+k]=r;e[o+R]=i;if(o===0&&n._state)u(G,n)}function G(n){var t=n._subscribers;var r=n._state;if(t.length===0)return;var i=void 0,e=void 0,o=n._result;for(var u=0;u<t.length;u+=3){i=t[u];e=t[u+r];if(i)H(r,i,e,o);else e(o)}n._subscribers.length=0}function H(n,t,r,i){var e=f(r),o=void 0,u=void 0,c=true;if(e){try{o=r(i)}catch(n){c=false;u=n}if(t===o){Z(t,F());return}}else o=i;if(t._state!==x);else if(e&&c)B(t,o);else if(c===false)Z(t,u);else if(n===k)L(t,o);else if(n===R)Z(t,o)}function J(r,n){try{n(function n(t){B(r,t)},function n(t){Z(r,t)})}catch(n){Z(r,n)}}var q=0;function K(){return q++}function Y(n){n[E]=q++;n._state=undefined;n._result=undefined;n._subscribers=[]}function z(){return new Error("Array Methods must be provided an Array")}var X=function(){function n(n,t){this._instanceConstructor=n;this.promise=new n(T);if(!this.promise[E])Y(this.promise);if(r(t)){this.length=t.length;this._remaining=t.length;this._result=new Array(this.length);if(this.length===0)L(this.promise,this._result);else{this.length=this.length||0;this._enumerate(t);if(this._remaining===0)L(this.promise,this._result)}}else Z(this.promise,z())}n.prototype._enumerate=function n(t){for(var r=0;this._state===x&&r<t.length;r++)this._eachEntry(t[r],r)};n.prototype._eachEntry=function n(t,r){var i=this._instanceConstructor;var e=i.resolve;if(e===S){var o=void 0;var u=void 0;var c=false;try{o=t.then}catch(n){c=true;u=n}if(o===j&&t._state!==x)this._settledAt(t._state,r,t._result);else if(typeof o!=="function"){this._remaining--;this._result[r]=t}else if(i===tn){var f=new i(T);if(c)Z(f,u);else N(f,t,o);this._willSettleAt(f,r)}else this._willSettleAt(new i(function(n){return n(t)}),r)}else this._willSettleAt(e(t),r)};n.prototype._settledAt=function n(t,r,i){var e=this.promise;if(e._state===x){this._remaining--;if(t===R)Z(e,i);else this._result[r]=i}if(this._remaining===0)L(e,this._result)};n.prototype._willSettleAt=function n(t,r){var i=this;M(t,undefined,function(n){return i._settledAt(k,r,n)},function(n){return i._settledAt(R,r,n)})};return n}();function V(n){return new X(this,n).promise}function W(e){var o=this;if(!r(e))return new o(function(n,t){return t(new TypeError("You must pass an array to race."))});else return new o(function(n,t){var r=e.length;for(var i=0;i<r;i++)o.resolve(e[i]).then(n,t)})}function $(n){var t=this;var r=new t(T);Z(r,n);return r}function Q(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function nn(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var tn=function(){function t(n){this[E]=K();this._result=this._state=undefined;this._subscribers=[];if(T!==n){typeof n!=="function"&&Q();this instanceof t?J(this,n):nn()}}t.prototype.catch=function n(t){return this.then(null,t)};t.prototype.finally=function n(t){var r=this;var i=r.constructor;if(f(t))return r.then(function(n){return i.resolve(t()).then(function(){return n})},function(n){return i.resolve(t()).then(function(){throw n})});return r.then(t,t)};return t}();function rn(){var n=void 0;if(typeof on!=="undefined")n=on;else if(typeof self!=="undefined")n=self;else try{n=Function("return this")()}catch(n){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=n.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(n){}if(r==="[object Promise]"&&!t.cast)return}n.Promise=tn}return tn.prototype.then=j,tn.all=V,tn.race=W,tn.resolve=S,tn.reject=$,tn._setScheduler=c,tn._setAsap=s,tn._asap=u,tn.polyfill=rn,tn.Promise=tn}()}.call(this,r(23),r(24))},function(n,t,r){"use strict";var i={};(0,r(11).assign)(i,r(26),r(33)),n.exports=i},function(n,t,r){n.exports=r(21)},function(n,t,r){n.exports={CredoAppException:r(1).CredoAppException,CredoAppService:r(22).CredoAppService,CredoAppServiceAsync:r(34).CredoAppService}},function(n,t,r){"use strict";r.r(t),r.d(t,"CredoAppService",function(){return a});var i,e,o=r(1),u=r(2),c=r(12),t=r(14),r=(i=function(n,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])})(n,t)},function(n,t){function r(){this.constructor=n}i(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),f=function(n,u,c,f){return new(c=c||Promise)(function(r,t){function i(n){try{o(f.next(n))}catch(n){t(n)}}function e(n){try{o(f.throw(n))}catch(n){t(n)}}function o(n){var t;n.done?r(n.value):((t=n.value)instanceof c?t:new c(function(n){n(t)})).then(i,e)}o((f=f.apply(n,u||[])).next())})},s=function(r,i){var e,o,u,c={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]},n={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function t(t){return function(n){return function(t){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=1,o&&(u=2&t[0]?o.return:t[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,t[1])).done)return u;switch(o=0,(t=u?[2&t[0],u.value]:t)[0]){case 0:case 1:u=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,o=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(u=0<(u=c.trys).length&&u[u.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!u||t[1]>u[0]&&t[1]<u[3])){c.label=t[1];break}if(6===t[0]&&c.label<u[1]){c.label=u[1],u=t;break}if(u&&c.label<u[2]){c.label=u[2],c.ops.push(t);break}u[2]&&c.ops.pop(),c.trys.pop();continue}t=i.call(r,c)}catch(n){t=[6,n],o=0}finally{e=u=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,n])}}},a=(e=t.a,r(h,e),h.prototype.startTracking=function(){this._tracker.startTracking()},h.prototype.stopTracking=function(){this._tracker.stopTracking()},h.prototype.stopTrackingAndCompleteAsync=function(r){return f(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:if(n.trys.push([0,2,,3]),null==r)throw new o.CredoAppException("Tracking has not been succesfully started",u.a.TrackingNotStarted);return this._tracker.stopTracking(),[4,this._collectBlackBoxJob.executeAsync(new c.a(r,!0))];case 1:return n.sent(),[3,3];case 2:return t=n.sent(),this.handleException(t),[3,3];case 3:return[2]}})})},h);function h(n,t){return e.call(this,n,t)||this}},function(n,t){var r,i,n=n.exports={};function e(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===e||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(n){try{return r.call(null,t,0)}catch(n){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:e}catch(n){r=e}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(n){i=o}}();var c,f=[],s=!1,a=-1;function h(){s&&c&&(s=!1,c.length?f=c.concat(f):a=-1,f.length&&l())}function l(){if(!s){var n=u(h);s=!0;for(var t=f.length;t;){for(c=f,f=[];++a<t;)c&&c[a].run();a=-1,t=f.length}c=null,s=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(n){try{return i.call(null,t)}catch(n){return i.call(this,t)}}}(n)}}function d(n,t){this.fun=n,this.array=t}function v(){}n.nextTick=function(n){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];f.push(new d(n,t)),1!==f.length||s||u(l)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=v,n.addListener=v,n.once=v,n.off=v,n.removeListener=v,n.removeAllListeners=v,n.emit=v,n.prependListener=v,n.prependOnceListener=v,n.listeners=function(n){return[]},n.binding=function(n){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(n){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(n,t){var r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"==typeof window&&(r=window)}n.exports=r},function(n,t,r){"use strict";r.r(t),r.d(t,"Headers",function(){return s}),r.d(t,"Request",function(){return y}),r.d(t,"Response",function(){return b}),r.d(t,"DOMException",function(){return g}),r.d(t,"fetch",function(){return _});var i,e,c={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(n){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};function o(n){if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new TypeError("Invalid character in header field name");return n.toLowerCase()}function u(n){return n="string"!=typeof n?String(n):n}function f(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return c.iterable&&(n[Symbol.iterator]=function(){return n}),n}function s(t){this.map={},t instanceof s?t.forEach(function(n,t){this.append(t,n)},this):Array.isArray(t)?t.forEach(function(n){this.append(n[0],n[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(n){this.append(n,t[n])},this)}function a(n){if(n.bodyUsed)return Promise.reject(new TypeError("Already read"));n.bodyUsed=!0}function h(r){return new Promise(function(n,t){r.onload=function(){n(r.result)},r.onerror=function(){t(r.error)}})}function l(n){var t=new FileReader,r=h(t);return t.readAsArrayBuffer(n),r}function d(n){if(n.slice)return n.slice(0);var t=new Uint8Array(n.byteLength);return t.set(new Uint8Array(n)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(n){var t;(this._bodyInit=n)?"string"==typeof n?this._bodyText=n:c.blob&&Blob.prototype.isPrototypeOf(n)?this._bodyBlob=n:c.formData&&FormData.prototype.isPrototypeOf(n)?this._bodyFormData=n:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(n)?this._bodyText=n.toString():c.arrayBuffer&&c.blob&&((t=n)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=d(n.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(n)||e(n))?this._bodyArrayBuffer=d(n):this._bodyText=n=Object.prototype.toString.call(n):this._bodyText="",this.headers.get("content-type")||("string"==typeof n?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(n)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var n=a(this);if(n)return n;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?a(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(l)}),this.text=function(){var n,t,r=a(this);if(r)return r;if(this._bodyBlob)return n=this._bodyBlob,t=new FileReader,r=h(t),t.readAsText(n),r;if(this._bodyArrayBuffer)return Promise.resolve(function(n){for(var t=new Uint8Array(n),r=new Array(t.length),i=0;i<t.length;i++)r[i]=String.fromCharCode(t[i]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}c.arrayBuffer&&(i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],e=ArrayBuffer.isView||function(n){return n&&-1<i.indexOf(Object.prototype.toString.call(n))}),s.prototype.append=function(n,t){n=o(n),t=u(t);var r=this.map[n];this.map[n]=r?r+", "+t:t},s.prototype.delete=function(n){delete this.map[o(n)]},s.prototype.get=function(n){return n=o(n),this.has(n)?this.map[n]:null},s.prototype.has=function(n){return this.map.hasOwnProperty(o(n))},s.prototype.set=function(n,t){this.map[o(n)]=u(t)},s.prototype.forEach=function(n,t){for(var r in this.map)this.map.hasOwnProperty(r)&&n.call(t,this.map[r],r,this)},s.prototype.keys=function(){var r=[];return this.forEach(function(n,t){r.push(t)}),f(r)},s.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),f(t)},s.prototype.entries=function(){var r=[];return this.forEach(function(n,t){r.push([t,n])}),f(r)},c.iterable&&(s.prototype[Symbol.iterator]=s.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(n,t){var r,i=(t=t||{}).body;if(n instanceof y){if(n.bodyUsed)throw new TypeError("Already read");this.url=n.url,this.credentials=n.credentials,t.headers||(this.headers=new s(n.headers)),this.method=n.method,this.mode=n.mode,this.signal=n.signal,i||null==n._bodyInit||(i=n._bodyInit,n.bodyUsed=!0)}else this.url=String(n);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new s(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),-1<w.indexOf(n)?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function p(n){var r=new FormData;return n.trim().split("&").forEach(function(n){var t;n&&(n=(t=n.split("=")).shift().replace(/\+/g," "),t=t.join("=").replace(/\+/g," "),r.append(decodeURIComponent(n),decodeURIComponent(t)))}),r}function b(n,t){t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new s(t.headers),this.url=t.url||"",this._initBody(n)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},v.call(y.prototype),v.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new s(this.headers),url:this.url})},b.error=function(){var n=new b(null,{status:0,statusText:""});return n.type="error",n};var m=[301,302,303,307,308];b.redirect=function(n,t){if(-1===m.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:n}})};var g=self.DOMException;try{new g}catch(n){(g=function(n,t){this.message=n,this.name=t;n=Error(n);this.stack=n.stack}).prototype=Object.create(Error.prototype),g.prototype.constructor=g}function _(o,u){return new Promise(function(i,n){var t=new y(o,u);if(t.signal&&t.signal.aborted)return n(new g("Aborted","AbortError"));var e=new XMLHttpRequest;function r(){e.abort()}e.onload=function(){var r,n={status:e.status,statusText:e.statusText,headers:(t=e.getAllResponseHeaders()||"",r=new s,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(n){var t=n.split(":"),n=t.shift().trim();n&&(t=t.join(":").trim(),r.append(n,t))}),r)};n.url="responseURL"in e?e.responseURL:n.headers.get("X-Request-URL");var t="response"in e?e.response:e.responseText;i(new b(t,n))},e.onerror=function(){n(new TypeError("Network request failed"))},e.ontimeout=function(){n(new TypeError("Network request failed"))},e.onabort=function(){n(new g("Aborted","AbortError"))},e.open(t.method,t.url,!0),"include"===t.credentials?e.withCredentials=!0:"omit"===t.credentials&&(e.withCredentials=!1),"responseType"in e&&c.blob&&(e.responseType="blob"),t.headers.forEach(function(n,t){e.setRequestHeader(t,n)}),t.signal&&(t.signal.addEventListener("abort",r),e.onreadystatechange=function(){4===e.readyState&&t.signal.removeEventListener("abort",r)}),e.send(void 0===t._bodyInit?null:t._bodyInit)})}_.polyfill=!0,self.fetch||(self.fetch=_,self.Headers=s,self.Request=y,self.Response=b)},function(n,t,r){"use strict";var u=r(27),c=r(11),f=r(31),i=r(17),e=r(32),s=Object.prototype.toString;function o(n){if(!(this instanceof o))return new o(n);this.options=c.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},n||{});var t=this.options;if(t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new e,(this.strm.avail_out=0)!==(n=u.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy)))throw new Error(i[n]);if(t.header&&u.deflateSetHeader(this.strm,t.header),t.dictionary){t="string"==typeof t.dictionary?f.string2buf(t.dictionary):"[object ArrayBuffer]"===s.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary;if(0!==(n=u.deflateSetDictionary(this.strm,t)))throw new Error(i[n]);this._dict_set=!0}}function a(n,t){t=new o(t);if(t.push(n,!0),t.err)throw t.msg||i[t.err];return t.result}o.prototype.push=function(n,t){var r,i,e=this.strm,o=this.options.chunkSize;if(this.ended)return!1;i=t===~~t?t:!0===t?4:0,"string"==typeof n?e.input=f.string2buf(n):"[object ArrayBuffer]"===s.call(n)?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;do{if(0===e.avail_out&&(e.output=new c.Buf8(o),e.next_out=0,e.avail_out=o),1!==(r=u.deflate(e,i))&&0!==r)return this.onEnd(r),!(this.ended=!0)}while(0!==e.avail_out&&(0!==e.avail_in||4!==i&&2!==i)||("string"===this.options.to?this.onData(f.buf2binstring(c.shrinkBuf(e.output,e.next_out))):this.onData(c.shrinkBuf(e.output,e.next_out))),(0<e.avail_in||0===e.avail_out)&&1!==r);return 4===i?(r=u.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):2!==i||(this.onEnd(0),!(e.avail_out=0))},o.prototype.onData=function(n){this.chunks.push(n)},o.prototype.onEnd=function(n){0===n&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg},t.Deflate=o,t.deflate=a,t.deflateRaw=function(n,t){return(t=t||{}).raw=!0,a(n,t)},t.gzip=function(n,t){return(t=t||{}).gzip=!0,a(n,t)}},function(n,t,r){"use strict";var c,h=r(11),f=r(28),l=r(29),d=r(30),i=r(17),s=0,a=4,v=0,w=-2,y=-1,p=4,e=2,b=8,m=9,o=286,u=30,g=19,_=2*o+1,A=15,O=3,j=258,S=j+O+1,E=42,T=113,x=1,k=2,R=3,D=4;function F(n,t){return n.msg=i[t],t}function P(n){return(n<<1)-(4<n?9:0)}function I(n){for(var t=n.length;0<=--t;)n[t]=0}function U(n){var t=n.state,r=t.pending;0!==(r=r>n.avail_out?n.avail_out:r)&&(h.arraySet(n.output,t.pending_buf,t.pending_out,r,n.next_out),n.next_out+=r,t.pending_out+=r,n.total_out+=r,n.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function N(n,t){f._tr_flush_block(n,0<=n.block_start?n.block_start:-1,n.strstart-n.block_start,t),n.block_start=n.strstart,U(n.strm)}function B(n,t){n.pending_buf[n.pending++]=t}function C(n,t){n.pending_buf[n.pending++]=t>>>8&255,n.pending_buf[n.pending++]=255&t}function L(n,t){var r,i,e=n.max_chain_length,o=n.strstart,u=n.prev_length,c=n.nice_match,f=n.strstart>n.w_size-S?n.strstart-(n.w_size-S):0,s=n.window,a=n.w_mask,h=n.prev,l=n.strstart+j,d=s[o+u-1],v=s[o+u];n.prev_length>=n.good_match&&(e>>=2),c>n.lookahead&&(c=n.lookahead);do{if(s[(r=t)+u]===v&&s[r+u-1]===d&&s[r]===s[o]&&s[++r]===s[o+1]){for(o+=2,r++;s[++o]===s[++r]&&s[++o]===s[++r]&&s[++o]===s[++r]&&s[++o]===s[++r]&&s[++o]===s[++r]&&s[++o]===s[++r]&&s[++o]===s[++r]&&s[++o]===s[++r]&&o<l;);if(i=j-(l-o),o=l-j,u<i){if(n.match_start=t,c<=(u=i))break;d=s[o+u-1],v=s[o+u]}}}while((t=h[t&a])>f&&0!=--e);return u<=n.lookahead?u:n.lookahead}function Z(n){var t,r,i,e,o,u,c,f,s,a=n.w_size;do{if(s=n.window_size-n.lookahead-n.strstart,n.strstart>=a+(a-S)){for(h.arraySet(n.window,n.window,a,a,0),n.match_start-=a,n.strstart-=a,n.block_start-=a,t=r=n.hash_size;i=n.head[--t],n.head[t]=a<=i?i-a:0,--r;);for(t=r=a;i=n.prev[--t],n.prev[t]=a<=i?i-a:0,--r;);s+=a}if(0===n.strm.avail_in)break;if(o=n.strm,u=n.window,c=n.strstart+n.lookahead,f=s,s=void 0,s=o.avail_in,r=0===(s=f<s?f:s)?0:(o.avail_in-=s,h.arraySet(u,o.input,o.next_in,s,c),1===o.state.wrap?o.adler=l(o.adler,u,s,c):2===o.state.wrap&&(o.adler=d(o.adler,u,s,c)),o.next_in+=s,o.total_in+=s,s),n.lookahead+=r,n.lookahead+n.insert>=O)for(e=n.strstart-n.insert,n.ins_h=n.window[e],n.ins_h=(n.ins_h<<n.hash_shift^n.window[e+1])&n.hash_mask;n.insert&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[e+O-1])&n.hash_mask,n.prev[e&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=e,e++,n.insert--,!(n.lookahead+n.insert<O)););}while(n.lookahead<S&&0!==n.strm.avail_in)}function M(n,t){for(var r,i;;){if(n.lookahead<S){if(Z(n),n.lookahead<S&&t===s)return x;if(0===n.lookahead)break}if(r=0,n.lookahead>=O&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+O-1])&n.hash_mask,r=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),0!==r&&n.strstart-r<=n.w_size-S&&(n.match_length=L(n,r)),n.match_length>=O)if(i=f._tr_tally(n,n.strstart-n.match_start,n.match_length-O),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=O){for(n.match_length--;n.strstart++,n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+O-1])&n.hash_mask,r=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart,0!=--n.match_length;);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+1])&n.hash_mask;else i=f._tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(i&&(N(n,!1),0===n.strm.avail_out))return x}return n.insert=n.strstart<O-1?n.strstart:O-1,t===a?(N(n,!0),0===n.strm.avail_out?R:D):n.last_lit&&(N(n,!1),0===n.strm.avail_out)?x:k}function G(n,t){for(var r,i,e;;){if(n.lookahead<S){if(Z(n),n.lookahead<S&&t===s)return x;if(0===n.lookahead)break}if(r=0,n.lookahead>=O&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+O-1])&n.hash_mask,r=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=O-1,0!==r&&n.prev_length<n.max_lazy_match&&n.strstart-r<=n.w_size-S&&(n.match_length=L(n,r),n.match_length<=5&&(1===n.strategy||n.match_length===O&&4096<n.strstart-n.match_start)&&(n.match_length=O-1)),n.prev_length>=O&&n.match_length<=n.prev_length){for(e=n.strstart+n.lookahead-O,i=f._tr_tally(n,n.strstart-1-n.prev_match,n.prev_length-O),n.lookahead-=n.prev_length-1,n.prev_length-=2;++n.strstart<=e&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+O-1])&n.hash_mask,r=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),0!=--n.prev_length;);if(n.match_available=0,n.match_length=O-1,n.strstart++,i&&(N(n,!1),0===n.strm.avail_out))return x}else if(n.match_available){if((i=f._tr_tally(n,0,n.window[n.strstart-1]))&&N(n,!1),n.strstart++,n.lookahead--,0===n.strm.avail_out)return x}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(i=f._tr_tally(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<O-1?n.strstart:O-1,t===a?(N(n,!0),0===n.strm.avail_out?R:D):n.last_lit&&(N(n,!1),0===n.strm.avail_out)?x:k}function H(n,t,r,i,e){this.good_length=n,this.max_lazy=t,this.nice_length=r,this.max_chain=i,this.func=e}function J(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new h.Buf16(2*_),this.dyn_dtree=new h.Buf16(2*(2*u+1)),this.bl_tree=new h.Buf16(2*(2*g+1)),I(this.dyn_ltree),I(this.dyn_dtree),I(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new h.Buf16(A+1),this.heap=new h.Buf16(2*o+1),I(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new h.Buf16(2*o+1),I(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function q(n){var t;return n&&n.state?(n.total_in=n.total_out=0,n.data_type=e,(t=n.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?E:T,n.adler=2===t.wrap?0:1,t.last_flush=s,f._tr_init(t),v):F(n,w)}function K(n){var t=q(n);return t===v&&((n=n.state).window_size=2*n.w_size,I(n.head),n.max_lazy_match=c[n.level].max_lazy,n.good_match=c[n.level].good_length,n.nice_match=c[n.level].nice_length,n.max_chain_length=c[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=O-1,n.match_available=0,n.ins_h=0),t}function Y(n,t,r,i,e,o){if(!n)return w;var u=1;if(t===y&&(t=6),i<0?(u=0,i=-i):15<i&&(u=2,i-=16),e<1||m<e||r!==b||i<8||15<i||t<0||9<t||o<0||p<o)return F(n,w);8===i&&(i=9);var c=new J;return(n.state=c).strm=n,c.wrap=u,c.gzhead=null,c.w_bits=i,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=e+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+O-1)/O),c.window=new h.Buf8(2*c.w_size),c.head=new h.Buf16(c.hash_size),c.prev=new h.Buf16(c.w_size),c.lit_bufsize=1<<e+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new h.Buf8(c.pending_buf_size),c.d_buf=+c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=o,c.method=r,K(n)}c=[new H(0,0,0,0,function(n,t){var r=65535;for(r>n.pending_buf_size-5&&(r=n.pending_buf_size-5);;){if(n.lookahead<=1){if(Z(n),0===n.lookahead&&t===s)return x;if(0===n.lookahead)break}n.strstart+=n.lookahead,n.lookahead=0;var i=n.block_start+r;if((0===n.strstart||n.strstart>=i)&&(n.lookahead=n.strstart-i,n.strstart=i,N(n,!1),0===n.strm.avail_out))return x;if(n.strstart-n.block_start>=n.w_size-S&&(N(n,!1),0===n.strm.avail_out))return x}return n.insert=0,t===a?(N(n,!0),0===n.strm.avail_out?R:D):(n.strstart>n.block_start&&(N(n,!1),n.strm.avail_out),x)}),new H(4,4,8,4,M),new H(4,5,16,8,M),new H(4,6,32,32,M),new H(4,4,16,16,G),new H(8,16,32,32,G),new H(8,16,128,128,G),new H(8,32,128,256,G),new H(32,128,258,1024,G),new H(32,258,258,4096,G)],t.deflateInit=function(n,t){return Y(n,t,b,15,8,0)},t.deflateInit2=Y,t.deflateReset=K,t.deflateResetKeep=q,t.deflateSetHeader=function(n,t){return!n||!n.state||2!==n.state.wrap?w:(n.state.gzhead=t,v)},t.deflate=function(n,t){var r,i,e,o;if(!n||!n.state||5<t||t<0)return n?F(n,w):w;if(r=n.state,!n.output||!n.input&&0!==n.avail_in||666===r.status&&t!==a)return F(n,0===n.avail_out?-5:w);if(r.strm=n,u=r.last_flush,r.last_flush=t,r.status===E&&(2===r.wrap?(n.adler=0,B(r,31),B(r,139),B(r,8),r.gzhead?(B(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),B(r,255&r.gzhead.time),B(r,r.gzhead.time>>8&255),B(r,r.gzhead.time>>16&255),B(r,r.gzhead.time>>24&255),B(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),B(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(B(r,255&r.gzhead.extra.length),B(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(n.adler=d(n.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(B(r,0),B(r,0),B(r,0),B(r,0),B(r,0),B(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),B(r,3),r.status=T)):(o=b+(r.w_bits-8<<4)<<8,o|=(2<=r.strategy||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(o|=32),o+=31-o%31,r.status=T,C(r,o),0!==r.strstart&&(C(r,n.adler>>>16),C(r,65535&n.adler)),n.adler=1)),69===r.status)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>i&&(n.adler=d(n.adler,r.pending_buf,r.pending-i,i)),U(n),i=r.pending,r.pending!==r.pending_buf_size));)B(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(n.adler=d(n.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(n.adler=d(n.adler,r.pending_buf,r.pending-i,i)),U(n),i=r.pending,r.pending===r.pending_buf_size)){e=1;break}}while(e=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,B(r,e),0!==e);r.gzhead.hcrc&&r.pending>i&&(n.adler=d(n.adler,r.pending_buf,r.pending-i,i)),0===e&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(n.adler=d(n.adler,r.pending_buf,r.pending-i,i)),U(n),i=r.pending,r.pending===r.pending_buf_size)){e=1;break}}while(e=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,B(r,e),0!==e);r.gzhead.hcrc&&r.pending>i&&(n.adler=d(n.adler,r.pending_buf,r.pending-i,i)),0===e&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&U(n),r.pending+2<=r.pending_buf_size&&(B(r,255&n.adler),B(r,n.adler>>8&255),n.adler=0,r.status=T)):r.status=T),0!==r.pending){if(U(n),0===n.avail_out)return r.last_flush=-1,v}else if(0===n.avail_in&&P(t)<=P(u)&&t!==a)return F(n,-5);if(666===r.status&&0!==n.avail_in)return F(n,-5);if(0!==n.avail_in||0!==r.lookahead||t!==s&&666!==r.status){var u=2===r.strategy?function(n,t){for(var r;;){if(0===n.lookahead&&(Z(n),0===n.lookahead)){if(t===s)return x;break}if(n.match_length=0,r=f._tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,r&&(N(n,!1),0===n.strm.avail_out))return x}return n.insert=0,t===a?(N(n,!0),0===n.strm.avail_out?R:D):n.last_lit&&(N(n,!1),0===n.strm.avail_out)?x:k}(r,t):3===r.strategy?function(n,t){for(var r,i,e,o,u=n.window;;){if(n.lookahead<=j){if(Z(n),n.lookahead<=j&&t===s)return x;if(0===n.lookahead)break}if(n.match_length=0,n.lookahead>=O&&0<n.strstart&&(i=u[e=n.strstart-1])===u[++e]&&i===u[++e]&&i===u[++e]){for(o=n.strstart+j;i===u[++e]&&i===u[++e]&&i===u[++e]&&i===u[++e]&&i===u[++e]&&i===u[++e]&&i===u[++e]&&i===u[++e]&&e<o;);n.match_length=j-(o-e),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=O?(r=f._tr_tally(n,1,n.match_length-O),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(r=f._tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),r&&(N(n,!1),0===n.strm.avail_out))return x}return n.insert=0,t===a?(N(n,!0),0===n.strm.avail_out?R:D):n.last_lit&&(N(n,!1),0===n.strm.avail_out)?x:k}(r,t):c[r.level].func(r,t);if(u!==R&&u!==D||(r.status=666),u===x||u===R)return 0===n.avail_out&&(r.last_flush=-1),v;if(u===k&&(1===t?f._tr_align(r):5!==t&&(f._tr_stored_block(r,0,0,!1),3===t&&(I(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),U(n),0===n.avail_out))return r.last_flush=-1,v}return t!==a?v:r.wrap<=0?1:(2===r.wrap?(B(r,255&n.adler),B(r,n.adler>>8&255),B(r,n.adler>>16&255),B(r,n.adler>>24&255),B(r,255&n.total_in),B(r,n.total_in>>8&255),B(r,n.total_in>>16&255),B(r,n.total_in>>24&255)):(C(r,n.adler>>>16),C(r,65535&n.adler)),U(n),0<r.wrap&&(r.wrap=-r.wrap),0!==r.pending?v:1)},t.deflateEnd=function(n){var t;return n&&n.state?(t=n.state.status)!==E&&69!==t&&73!==t&&91!==t&&103!==t&&t!==T&&666!==t?F(n,w):(n.state=null,t===T?F(n,-3):v):w},t.deflateSetDictionary=function(n,t){var r,i,e,o,u,c,f,s=t.length;if(!n||!n.state)return w;if(2===(o=(r=n.state).wrap)||1===o&&r.status!==E||r.lookahead)return w;for(1===o&&(n.adler=l(n.adler,t,s,0)),r.wrap=0,s>=r.w_size&&(0===o&&(I(r.head),r.strstart=0,r.block_start=0,r.insert=0),f=new h.Buf8(r.w_size),h.arraySet(f,t,s-r.w_size,r.w_size,0),t=f,s=r.w_size),u=n.avail_in,c=n.next_in,f=n.input,n.avail_in=s,n.next_in=0,n.input=t,Z(r);r.lookahead>=O;){for(i=r.strstart,e=r.lookahead-(O-1);r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+O-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++,--e;);r.strstart=i,r.lookahead=O-1,Z(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=O-1,r.match_available=0,n.next_in=c,n.input=f,n.avail_in=u,r.wrap=o,v},t.deflateInfo="pako deflate (from Nodeca project)"},function(n,t,r){"use strict";var e=r(11),c=0,f=1;function i(n){for(var t=n.length;0<=--t;)n[t]=0}var u=29,s=256,a=s+1+u,h=30,l=19,y=2*a+1,p=15,o=16,d=7,v=256,w=16,b=17,m=18,g=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],_=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=new Array(2*(a+2));i(j);var S=new Array(2*h);i(S);var E=new Array(512);i(E);var T=new Array(256);i(T);var x=new Array(u);i(x);var k,R,D,F=new Array(h);function P(n,t,r,i,e){this.static_tree=n,this.extra_bits=t,this.extra_base=r,this.elems=i,this.max_length=e,this.has_stree=n&&n.length}function I(n,t){this.dyn_tree=n,this.max_code=0,this.stat_desc=t}function U(n){return n<256?E[n]:E[256+(n>>>7)]}function N(n,t){n.pending_buf[n.pending++]=255&t,n.pending_buf[n.pending++]=t>>>8&255}function B(n,t,r){n.bi_valid>o-r?(n.bi_buf|=t<<n.bi_valid&65535,N(n,n.bi_buf),n.bi_buf=t>>o-n.bi_valid,n.bi_valid+=r-o):(n.bi_buf|=t<<n.bi_valid&65535,n.bi_valid+=r)}function C(n,t,r){B(n,r[2*t],r[2*t+1])}function L(n,t){for(var r=0;r|=1&n,n>>>=1,r<<=1,0<--t;);return r>>>1}function Z(n,t,r){for(var i,e=new Array(p+1),o=0,u=1;u<=p;u++)e[u]=o=o+r[u-1]<<1;for(i=0;i<=t;i++){var c=n[2*i+1];0!==c&&(n[2*i]=L(e[c]++,c))}}function M(n){for(var t=0;t<a;t++)n.dyn_ltree[2*t]=0;for(t=0;t<h;t++)n.dyn_dtree[2*t]=0;for(t=0;t<l;t++)n.bl_tree[2*t]=0;n.dyn_ltree[2*v]=1,n.opt_len=n.static_len=0,n.last_lit=n.matches=0}function G(n){8<n.bi_valid?N(n,n.bi_buf):0<n.bi_valid&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0}function H(n,t,r,i){var e=2*t,o=2*r;return n[e]<n[o]||n[e]===n[o]&&i[t]<=i[r]}function J(n,t,r){for(var i=n.heap[r],e=r<<1;e<=n.heap_len&&(e<n.heap_len&&H(t,n.heap[e+1],n.heap[e],n.depth)&&e++,!H(t,i,n.heap[e],n.depth));)n.heap[r]=n.heap[e],r=e,e<<=1;n.heap[r]=i}function q(n,t,r){var i,e,o,u,c=0;if(0!==n.last_lit)for(;i=n.pending_buf[n.d_buf+2*c]<<8|n.pending_buf[n.d_buf+2*c+1],e=n.pending_buf[n.l_buf+c],c++,0==i?C(n,e,t):(C(n,(o=T[e])+s+1,t),0!==(u=g[o])&&B(n,e-=x[o],u),C(n,o=U(--i),r),0!==(u=_[o])&&B(n,i-=F[o],u)),c<n.last_lit;);C(n,v,t)}function K(n,t){var r,i,e,o=t.dyn_tree,u=t.stat_desc.static_tree,c=t.stat_desc.has_stree,f=t.stat_desc.elems,s=-1;for(n.heap_len=0,n.heap_max=y,r=0;r<f;r++)0!==o[2*r]?(n.heap[++n.heap_len]=s=r,n.depth[r]=0):o[2*r+1]=0;for(;n.heap_len<2;)o[2*(e=n.heap[++n.heap_len]=s<2?++s:0)]=1,n.depth[e]=0,n.opt_len--,c&&(n.static_len-=u[2*e+1]);for(t.max_code=s,r=n.heap_len>>1;1<=r;r--)J(n,o,r);for(e=f;r=n.heap[1],n.heap[1]=n.heap[n.heap_len--],J(n,o,1),i=n.heap[1],n.heap[--n.heap_max]=r,n.heap[--n.heap_max]=i,o[2*e]=o[2*r]+o[2*i],n.depth[e]=(n.depth[r]>=n.depth[i]?n.depth[r]:n.depth[i])+1,o[2*r+1]=o[2*i+1]=e,n.heap[1]=e++,J(n,o,1),2<=n.heap_len;);n.heap[--n.heap_max]=n.heap[1],function(n,t){for(var r,i,e,o,u,c=t.dyn_tree,f=t.max_code,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,d=t.stat_desc.max_length,v=0,w=0;w<=p;w++)n.bl_count[w]=0;for(c[2*n.heap[n.heap_max]+1]=0,r=n.heap_max+1;r<y;r++)d<(w=c[2*c[2*(i=n.heap[r])+1]+1]+1)&&(w=d,v++),c[2*i+1]=w,f<i||(n.bl_count[w]++,o=0,l<=i&&(o=h[i-l]),u=c[2*i],n.opt_len+=u*(w+o),a&&(n.static_len+=u*(s[2*i+1]+o)));if(0!==v){do{for(w=d-1;0===n.bl_count[w];)w--}while(n.bl_count[w]--,n.bl_count[w+1]+=2,n.bl_count[d]--,0<(v-=2));for(w=d;0!==w;w--)for(i=n.bl_count[w];0!==i;)f<(e=n.heap[--r])||(c[2*e+1]!==w&&(n.opt_len+=(w-c[2*e+1])*c[2*e],c[2*e+1]=w),i--)}}(n,t),Z(o,s,n.bl_count)}function Y(n,t,r){var i,e,o=-1,u=t[1],c=0,f=7,s=4;for(0===u&&(f=138,s=3),t[2*(r+1)+1]=65535,i=0;i<=r;i++)e=u,u=t[2*(i+1)+1],++c<f&&e===u||(c<s?n.bl_tree[2*e]+=c:0!==e?(e!==o&&n.bl_tree[2*e]++,n.bl_tree[2*w]++):c<=10?n.bl_tree[2*b]++:n.bl_tree[2*m]++,o=e,s=(c=0)===u?(f=138,3):e===u?(f=6,3):(f=7,4))}function z(n,t,r){var i,e,o=-1,u=t[1],c=0,f=7,s=4;for(0===u&&(f=138,s=3),i=0;i<=r;i++)if(e=u,u=t[2*(i+1)+1],!(++c<f&&e===u)){if(c<s)for(;C(n,e,n.bl_tree),0!=--c;);else 0!==e?(e!==o&&(C(n,e,n.bl_tree),c--),C(n,w,n.bl_tree),B(n,c-3,2)):c<=10?(C(n,b,n.bl_tree),B(n,c-3,3)):(C(n,m,n.bl_tree),B(n,c-11,7));o=e,s=(c=0)===u?(f=138,3):e===u?(f=6,3):(f=7,4)}}i(F);var X=!1;function V(n,t,r,i){B(n,0+(i?1:0),3),i=t,t=r,r=!0,G(n=n),r&&(N(n,t),N(n,~t)),e.arraySet(n.pending_buf,n.window,i,t,n.pending),n.pending+=t}t._tr_init=function(n){X||(function(){for(var n,t,r,i=new Array(p+1),e=0,o=0;o<u-1;o++)for(x[o]=e,n=0;n<1<<g[o];n++)T[e++]=o;for(T[e-1]=o,o=r=0;o<16;o++)for(F[o]=r,n=0;n<1<<_[o];n++)E[r++]=o;for(r>>=7;o<h;o++)for(F[o]=r<<7,n=0;n<1<<_[o]-7;n++)E[256+r++]=o;for(t=0;t<=p;t++)i[t]=0;for(n=0;n<=143;)j[2*n+1]=8,n++,i[8]++;for(;n<=255;)j[2*n+1]=9,n++,i[9]++;for(;n<=279;)j[2*n+1]=7,n++,i[7]++;for(;n<=287;)j[2*n+1]=8,n++,i[8]++;for(Z(j,a+1,i),n=0;n<h;n++)S[2*n+1]=5,S[2*n]=L(n,5);k=new P(j,g,s+1,a,p),R=new P(S,_,0,h,p),D=new P(new Array(0),A,0,l,d)}(),X=!0),n.l_desc=new I(n.dyn_ltree,k),n.d_desc=new I(n.dyn_dtree,R),n.bl_desc=new I(n.bl_tree,D),n.bi_buf=0,n.bi_valid=0,M(n)},t._tr_stored_block=V,t._tr_flush_block=function(n,t,r,i){var e,o,u=0;0<n.level?(2===n.strm.data_type&&(n.strm.data_type=function(n){for(var t=4093624447,r=0;r<=31;r++,t>>>=1)if(1&t&&0!==n.dyn_ltree[2*r])return c;if(0!==n.dyn_ltree[18]||0!==n.dyn_ltree[20]||0!==n.dyn_ltree[26])return f;for(r=32;r<s;r++)if(0!==n.dyn_ltree[2*r])return f;return c}(n)),K(n,n.l_desc),K(n,n.d_desc),u=function(n){var t;for(Y(n,n.dyn_ltree,n.l_desc.max_code),Y(n,n.dyn_dtree,n.d_desc.max_code),K(n,n.bl_desc),t=l-1;3<=t&&0===n.bl_tree[2*O[t]+1];t--);return n.opt_len+=3*(t+1)+5+5+4,t}(n),e=n.opt_len+3+7>>>3,(o=n.static_len+3+7>>>3)<=e&&(e=o)):e=o=r+5,r+4<=e&&-1!==t?V(n,t,r,i):4===n.strategy||o===e?(B(n,2+(i?1:0),3),q(n,j,S)):(B(n,4+(i?1:0),3),function(n,t,r,i){var e;for(B(n,t-257,5),B(n,r-1,5),B(n,i-4,4),e=0;e<i;e++)B(n,n.bl_tree[2*O[e]+1],3);z(n,n.dyn_ltree,t-1),z(n,n.dyn_dtree,r-1)}(n,n.l_desc.max_code+1,n.d_desc.max_code+1,u+1),q(n,n.dyn_ltree,n.dyn_dtree)),M(n),i&&G(n)},t._tr_tally=function(n,t,r){return n.pending_buf[n.d_buf+2*n.last_lit]=t>>>8&255,n.pending_buf[n.d_buf+2*n.last_lit+1]=255&t,n.pending_buf[n.l_buf+n.last_lit]=255&r,n.last_lit++,0===t?n.dyn_ltree[2*r]++:(n.matches++,t--,n.dyn_ltree[2*(T[r]+s+1)]++,n.dyn_dtree[2*U(t)]++),n.last_lit===n.lit_bufsize-1},t._tr_align=function(n){B(n,2,3),C(n,v,j),16===(n=n).bi_valid?(N(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):8<=n.bi_valid&&(n.pending_buf[n.pending++]=255&n.bi_buf,n.bi_buf>>=8,n.bi_valid-=8)}},function(n,t,r){"use strict";n.exports=function(n,t,r,i){for(var e=65535&n|0,o=n>>>16&65535|0,u=0;0!==r;){for(r-=u=2e3<r?2e3:r;o=o+(e=e+t[i++]|0)|0,--u;);e%=65521,o%=65521}return e|o<<16|0}},function(n,t,r){"use strict";var c=function(){for(var n=[],t=0;t<256;t++){for(var r=t,i=0;i<8;i++)r=1&r?3988292384^r>>>1:r>>>1;n[t]=r}return n}();n.exports=function(n,t,r,i){var e=c,o=i+r;n^=-1;for(var u=i;u<o;u++)n=n>>>8^e[255&(n^t[u])];return-1^n}},function(n,t,r){"use strict";var f=r(11),e=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(n){e=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(n){o=!1}for(var s=new f.Buf8(256),i=0;i<256;i++)s[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1;function a(n,t){if(t<65534&&(n.subarray&&o||!n.subarray&&e))return String.fromCharCode.apply(null,f.shrinkBuf(n,t));for(var r="",i=0;i<t;i++)r+=String.fromCharCode(n[i]);return r}s[254]=s[254]=1,t.string2buf=function(n){for(var t,r,i,e,o=n.length,u=0,c=0;c<o;c++)55296==(64512&(r=n.charCodeAt(c)))&&c+1<o&&56320==(64512&(i=n.charCodeAt(c+1)))&&(r=65536+(r-55296<<10)+(i-56320),c++),u+=r<128?1:r<2048?2:r<65536?3:4;for(t=new f.Buf8(u),c=e=0;e<u;c++)55296==(64512&(r=n.charCodeAt(c)))&&c+1<o&&56320==(64512&(i=n.charCodeAt(c+1)))&&(r=65536+(r-55296<<10)+(i-56320),c++),r<128?t[e++]=r:(r<2048?t[e++]=192|r>>>6:(r<65536?t[e++]=224|r>>>12:(t[e++]=240|r>>>18,t[e++]=128|r>>>12&63),t[e++]=128|r>>>6&63),t[e++]=128|63&r);return t},t.buf2binstring=function(n){return a(n,n.length)},t.binstring2buf=function(n){for(var t=new f.Buf8(n.length),r=0,i=t.length;r<i;r++)t[r]=n.charCodeAt(r);return t},t.buf2string=function(n,t){for(var r,i,e=t||n.length,o=new Array(2*e),u=0,c=0;c<e;)if((r=n[c++])<128)o[u++]=r;else if(4<(i=s[r]))o[u++]=65533,c+=i-1;else{for(r&=2===i?31:3===i?15:7;1<i&&c<e;)r=r<<6|63&n[c++],i--;1<i?o[u++]=65533:r<65536?o[u++]=r:(r-=65536,o[u++]=55296|r>>10&1023,o[u++]=56320|1023&r)}return a(o,u)},t.utf8border=function(n,t){for(var r=(t=(t=t||n.length)>n.length?n.length:t)-1;0<=r&&128==(192&n[r]);)r--;return!(r<0)&&0!==r&&r+s[n[r]]>t?r:t}},function(n,t,r){"use strict";n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(n,t,r){"use strict";n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(n,t,r){"use strict";r.r(t);var i,u,e=r(1),o=r(9),c=r(10),f=r(15),s=(i=function(n,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])})(n,t)},function(n,t){function r(){this.constructor=n}i(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(n,u,c,f){return new(c=c||Promise)(function(r,t){function i(n){try{o(f.next(n))}catch(n){t(n)}}function e(n){try{o(f.throw(n))}catch(n){t(n)}}function o(n){var t;n.done?r(n.value):((t=n.value)instanceof c?t:new c(function(n){n(t)})).then(i,e)}o((f=f.apply(n,u||[])).next())})},h=function(r,i){var e,o,u,c={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]},n={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function t(t){return function(n){return function(t){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=1,o&&(u=2&t[0]?o.return:t[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,t[1])).done)return u;switch(o=0,(t=u?[2&t[0],u.value]:t)[0]){case 0:case 1:u=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,o=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(u=0<(u=c.trys).length&&u[u.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!u||t[1]>u[0]&&t[1]<u[3])){c.label=t[1];break}if(6===t[0]&&c.label<u[1]){c.label=u[1],u=t;break}if(u&&c.label<u[2]){c.label=u[2],c.ops.push(t);break}u[2]&&c.ops.pop(),c.trys.pop();continue}t=i.call(r,c)}catch(n){t=[6,n],o=0}finally{e=u=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,n])}}},l=(u=f.a,s(d,u),d.prototype.executeAsync=function(i){return a(this,void 0,void 0,function(){var t,r;return h(this,function(n){switch(n.label){case 0:return i.isComplete||this.P.any()?(t=this.P.getIteratorId(),r=u.prototype.collectBlackBoxInternal.call(this),[4,u.prototype.X.call(this,i,r)]):[2];case 1:return n.sent(),this.onExecuteComplete(i,t),[2]}})})},d.prototype.onExecuteComplete=function(n,t){n.isComplete?this._dependencyResolver.clearStorage():this.P.clearEvents(function(n){return n<=t})},d.prototype.config=function(){var n={};return n[o.a.Area]=u.prototype.config.call(this)[o.a.Area],n[c.a.Area]=u.prototype.config.call(this)[c.a.Area],n},d);function d(n,t,r,i,e,o){o=u.call(this,n,t,r,i,e,o)||this;return o.P=r.dn(),o}var v=r(12),s=r(14),w=function(n,u,c,f){return new(c=c||Promise)(function(r,t){function i(n){try{o(f.next(n))}catch(n){t(n)}}function e(n){try{o(f.throw(n))}catch(n){t(n)}}function o(n){var t;n.done?r(n.value):((t=n.value)instanceof c?t:new c(function(n){n(t)})).then(i,e)}o((f=f.apply(n,u||[])).next())})},y=function(r,i){var e,o,u,c={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]},n={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function t(t){return function(n){return function(t){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=1,o&&(u=2&t[0]?o.return:t[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,t[1])).done)return u;switch(o=0,(t=u?[2&t[0],u.value]:t)[0]){case 0:case 1:u=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,o=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(u=0<(u=c.trys).length&&u[u.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!u||t[1]>u[0]&&t[1]<u[3])){c.label=t[1];break}if(6===t[0]&&c.label<u[1]){c.label=u[1],u=t;break}if(u&&c.label<u[2]){c.label=u[2],c.ops.push(t);break}u[2]&&c.ops.pop(),c.trys.pop();continue}t=i.call(r,c)}catch(n){t=[6,n],o=0}finally{e=u=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,n])}}},p=(b.prototype.schedule=function(n,r,t){var i=this;this.cancel(),this._recurrentJob=n,this._executor=setInterval(function(){return w(i,void 0,void 0,function(){var t;return y(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.executeInternalAsync(r)];case 1:return n.sent(),[3,3];case 2:return t=n.sent(),console.error(t),[3,3];case 3:return[2]}})})},t)},b.prototype.executeOnceAsync=function(n){return this.executeInternalAsync(n)},b.prototype.cancel=function(){clearInterval(this._executor)},b.prototype.executeInternalAsync=function(r){var i;return w(this,void 0,void 0,function(){var t;return y(this,function(n){switch(n.label){case 0:return[4,this.lock()];case 1:t=n.sent(),n.label=2;case 2:return n.trys.push([2,,7,8]),null==this._beginJob?[3,4]:[4,null===(i=this._beginJob)||void 0===i?void 0:i.executeAsync(r)];case 3:return n.sent(),this._beginJob=null,[3,6];case 4:return[4,null===(i=this._recurrentJob)||void 0===i?void 0:i.executeAsync(r)];case 5:n.sent(),n.label=6;case 6:return[3,8];case 7:return t(),[7];case 8:return[2]}})})},b.prototype.lock=function(){var t=null;return this._lock=this._lock.then(function(){return new Promise(t)}),new Promise(function(n){t=n})},b);function b(n){this._beginJob=n=void 0===n?null:n,this._lock=Promise.resolve()}var m=r(13),g=r(2);r.d(t,"CredoAppService",function(){return S});var _,A,t=(_=function(n,t){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])})(n,t)},function(n,t){function r(){this.constructor=n}_(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),O=function(n,u,c,f){return new(c=c||Promise)(function(r,t){function i(n){try{o(f.next(n))}catch(n){t(n)}}function e(n){try{o(f.throw(n))}catch(n){t(n)}}function o(n){var t;n.done?r(n.value):((t=n.value)instanceof c?t:new c(function(n){n(t)})).then(i,e)}o((f=f.apply(n,u||[])).next())})},j=function(r,i){var e,o,u,c={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]},n={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function t(t){return function(n){return function(t){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=1,o&&(u=2&t[0]?o.return:t[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,t[1])).done)return u;switch(o=0,(t=u?[2&t[0],u.value]:t)[0]){case 0:case 1:u=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,o=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(u=0<(u=c.trys).length&&u[u.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!u||t[1]>u[0]&&t[1]<u[3])){c.label=t[1];break}if(6===t[0]&&c.label<u[1]){c.label=u[1],u=t;break}if(u&&c.label<u[2]){c.label=u[2],c.ops.push(t);break}u[2]&&c.ops.pop(),c.trys.pop();continue}t=i.call(r,c)}catch(n){t=[6,n],o=0}finally{e=u=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,n])}}},S=(A=s.a,t(E,A),E.prototype.startTrackingAsync=function(t){return O(this,void 0,void 0,function(){return j(this,function(n){switch(n.label){case 0:return[4,this._credoLabHttpClient.verifyReferenceNumberAsync(t)];case 1:return n.sent()&&(this._recordNumber=t,this._jobManager.schedule(this._collectBlackBoxChunkJob,new v.a(this._recordNumber,!1),1e4),this._tracker.startTracking()),[2]}})})},E.prototype.stopTrackingAsync=function(){return O(this,void 0,void 0,function(){return j(this,function(n){switch(n.label){case 0:return[4,this.stopTrackingAndUploadAsync(!1)];case 1:return n.sent(),[2]}})})},E.prototype.stopTrackingAndCompleteAsync=function(){return O(this,void 0,void 0,function(){return j(this,function(n){switch(n.label){case 0:return[4,this.stopTrackingAndUploadAsync(!0)];case 1:return n.sent(),[2]}})})},E.prototype.stopTrackingAndUploadAsync=function(r){return O(this,void 0,void 0,function(){var t;return j(this,function(n){switch(n.label){case 0:if(n.trys.push([0,2,,3]),null==this._recordNumber)throw new e.CredoAppException("Tracking has not been succesfully started",g.a.TrackingNotStarted);return this._tracker.stopTracking(),this._jobManager.cancel(),[4,this._jobManager.executeOnceAsync(new v.a(this._recordNumber,r))];case 1:return n.sent(),[3,3];case 2:return t=n.sent(),this.handleException(t),[3,3];case 3:return[2]}})})},E);function E(n,t){t=A.call(this,n,t)||this;return t._recordNumber=null,t._jobManager=new p(t._collectBlackBoxJob),t._collectBlackBoxChunkJob=new l(t._credoLabHttpClient,m.a,t._dependencyResolver,t._browserIdStorageProvider,t.H,t._identifierConfig),t}}],i={},e.m=r,e.c=i,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:r})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=20);function e(n){if(i[n])return i[n].exports;var t=i[n]={i:n,l:!1,exports:{}};return r[n].call(t.exports,t,t.exports,e),t.l=!0,t.exports}var r,i});